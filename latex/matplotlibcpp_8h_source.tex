\doxysection{matplotlibcpp.\+h}
\hypertarget{matplotlibcpp_8h_source}{}\label{matplotlibcpp_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Python\ headers\ must\ be\ included\ before\ any\ system\ headers,\ since}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ they\ define\ \_POSIX\_C\_SOURCE}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <Python.h>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <numeric>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <cstdint>}\ \textcolor{comment}{//\ <cstdint>\ requires\ c++11\ support}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <string>}\ \textcolor{comment}{//\ std::stod}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#\ \ define\ NPY\_NO\_DEPRECATED\_API\ NPY\_1\_7\_API\_VERSION}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#\ \ include\ <numpy/arrayobject.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#\ \ ifdef\ WITH\_OPENCV}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#\ \ \ \ include\ <opencv2/opencv.hpp>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#\ \ endif\ }\textcolor{comment}{//\ WITH\_OPENCV}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{comment}{/*}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ A\ bunch\ of\ constants\ were\ removed\ in\ OpenCV\ 4\ in\ favour\ of\ enum\ classes,\ so}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ define\ the\ ones\ we\ need\ here.}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#\ \ if\ CV\_MAJOR\_VERSION\ >\ 3}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#\ \ \ \ define\ CV\_BGR2RGB\ cv::COLOR\_BGR2RGB}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#\ \ \ \ define\ CV\_BGRA2RGBA\ cv::COLOR\_BGRA2RGBA}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#if\ PY\_MAJOR\_VERSION\ >=\ 3}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#\ \ define\ PyString\_FromString\ PyUnicode\_FromString}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#\ \ define\ PyInt\_FromLong\ PyLong\_FromLong}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#\ \ define\ PyString\_FromString\ PyUnicode\_FromString}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{namespace\ }matplotlibcpp\ \{}
\DoxyCodeLine{00044\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{static}\ std::string\ s\_backend;}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}\ \{}
\DoxyCodeLine{00049\ \ \ \ \ PyObject*\ s\_python\_function\_arrow;}
\DoxyCodeLine{00050\ \ \ \ \ PyObject\ *s\_python\_function\_show;}
\DoxyCodeLine{00051\ \ \ \ \ PyObject\ *s\_python\_function\_close;}
\DoxyCodeLine{00052\ \ \ \ \ PyObject\ *s\_python\_function\_draw;}
\DoxyCodeLine{00053\ \ \ \ \ PyObject\ *s\_python\_function\_pause;}
\DoxyCodeLine{00054\ \ \ \ \ PyObject\ *s\_python\_function\_save;}
\DoxyCodeLine{00055\ \ \ \ \ PyObject\ *s\_python\_function\_figure;}
\DoxyCodeLine{00056\ \ \ \ \ PyObject\ *s\_python\_function\_fignum\_exists;}
\DoxyCodeLine{00057\ \ \ \ \ PyObject\ *s\_python\_function\_plot;}
\DoxyCodeLine{00058\ \ \ \ \ PyObject\ *s\_python\_function\_quiver;}
\DoxyCodeLine{00059\ \ \ \ \ PyObject*\ s\_python\_function\_contour;}
\DoxyCodeLine{00060\ \ \ \ \ PyObject\ *s\_python\_function\_semilogx;}
\DoxyCodeLine{00061\ \ \ \ \ PyObject\ *s\_python\_function\_semilogy;}
\DoxyCodeLine{00062\ \ \ \ \ PyObject\ *s\_python\_function\_loglog;}
\DoxyCodeLine{00063\ \ \ \ \ PyObject\ *s\_python\_function\_fill;}
\DoxyCodeLine{00064\ \ \ \ \ PyObject\ *s\_python\_function\_fill\_between;}
\DoxyCodeLine{00065\ \ \ \ \ PyObject\ *s\_python\_function\_hist;}
\DoxyCodeLine{00066\ \ \ \ \ PyObject\ *s\_python\_function\_imshow;}
\DoxyCodeLine{00067\ \ \ \ \ PyObject\ *s\_python\_function\_scatter;}
\DoxyCodeLine{00068\ \ \ \ \ PyObject\ *s\_python\_function\_boxplot;}
\DoxyCodeLine{00069\ \ \ \ \ PyObject\ *s\_python\_function\_subplot;}
\DoxyCodeLine{00070\ \ \ \ \ PyObject\ *s\_python\_function\_subplot2grid;}
\DoxyCodeLine{00071\ \ \ \ \ PyObject\ *s\_python\_function\_legend;}
\DoxyCodeLine{00072\ \ \ \ \ PyObject\ *s\_python\_function\_xlim;}
\DoxyCodeLine{00073\ \ \ \ \ PyObject\ *s\_python\_function\_ion;}
\DoxyCodeLine{00074\ \ \ \ \ PyObject\ *s\_python\_function\_ginput;}
\DoxyCodeLine{00075\ \ \ \ \ PyObject\ *s\_python\_function\_ylim;}
\DoxyCodeLine{00076\ \ \ \ \ PyObject\ *s\_python\_function\_title;}
\DoxyCodeLine{00077\ \ \ \ \ PyObject\ *s\_python\_function\_axis;}
\DoxyCodeLine{00078\ \ \ \ \ PyObject\ *s\_python\_function\_axhline;}
\DoxyCodeLine{00079\ \ \ \ \ PyObject\ *s\_python\_function\_axvline;}
\DoxyCodeLine{00080\ \ \ \ \ PyObject\ *s\_python\_function\_axvspan;}
\DoxyCodeLine{00081\ \ \ \ \ PyObject\ *s\_python\_function\_xlabel;}
\DoxyCodeLine{00082\ \ \ \ \ PyObject\ *s\_python\_function\_ylabel;}
\DoxyCodeLine{00083\ \ \ \ \ PyObject\ *s\_python\_function\_gca;}
\DoxyCodeLine{00084\ \ \ \ \ PyObject\ *s\_python\_function\_xticks;}
\DoxyCodeLine{00085\ \ \ \ \ PyObject\ *s\_python\_function\_yticks;}
\DoxyCodeLine{00086\ \ \ \ \ PyObject*\ s\_python\_function\_margins;}
\DoxyCodeLine{00087\ \ \ \ \ PyObject\ *s\_python\_function\_tick\_params;}
\DoxyCodeLine{00088\ \ \ \ \ PyObject\ *s\_python\_function\_grid;}
\DoxyCodeLine{00089\ \ \ \ \ PyObject*\ s\_python\_function\_cla;}
\DoxyCodeLine{00090\ \ \ \ \ PyObject\ *s\_python\_function\_clf;}
\DoxyCodeLine{00091\ \ \ \ \ PyObject\ *s\_python\_function\_errorbar;}
\DoxyCodeLine{00092\ \ \ \ \ PyObject\ *s\_python\_function\_annotate;}
\DoxyCodeLine{00093\ \ \ \ \ PyObject\ *s\_python\_function\_tight\_layout;}
\DoxyCodeLine{00094\ \ \ \ \ PyObject\ *s\_python\_colormap;}
\DoxyCodeLine{00095\ \ \ \ \ PyObject\ *s\_python\_empty\_tuple;}
\DoxyCodeLine{00096\ \ \ \ \ PyObject\ *s\_python\_function\_stem;}
\DoxyCodeLine{00097\ \ \ \ \ PyObject\ *s\_python\_function\_xkcd;}
\DoxyCodeLine{00098\ \ \ \ \ PyObject\ *s\_python\_function\_text;}
\DoxyCodeLine{00099\ \ \ \ \ PyObject\ *s\_python\_function\_suptitle;}
\DoxyCodeLine{00100\ \ \ \ \ PyObject\ *s\_python\_function\_bar;}
\DoxyCodeLine{00101\ \ \ \ \ PyObject\ *s\_python\_function\_barh;}
\DoxyCodeLine{00102\ \ \ \ \ PyObject\ *s\_python\_function\_colorbar;}
\DoxyCodeLine{00103\ \ \ \ \ PyObject\ *s\_python\_function\_subplots\_adjust;}
\DoxyCodeLine{00104\ \ \ \ \ PyObject\ *s\_python\_function\_rcparams;}
\DoxyCodeLine{00105\ \ \ \ \ PyObject\ *s\_python\_function\_spy;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{/*\ For\ now,\ \_interpreter\ is\ implemented\ as\ a\ singleton\ since\ its\ currently\ not\ possible\ to\ have}}
\DoxyCodeLine{00108\ \textcolor{comment}{\ \ \ \ \ \ \ multiple\ independent\ embedded\ python\ interpreters\ without\ patching\ the\ python\ source\ code}}
\DoxyCodeLine{00109\ \textcolor{comment}{\ \ \ \ \ \ \ or\ starting\ a\ separate\ process\ for\ each.\ [1]}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ \ \ \ \ \ Furthermore,\ many\ python\ objects\ expect\ that\ they\ are\ destructed\ in\ the\ same\ thread\ as\ they}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ \ \ \ \ \ were\ constructed.\ [2]\ So\ for\ advanced\ usage,\ a\ \`{}kill()`\ function\ is\ provided\ so\ that\ library}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ \ \ \ \ \ \ users\ can\ manually\ ensure\ that\ the\ interpreter\ is\ constructed\ and\ destroyed\ within\ the}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ \ \ \ \ \ same\ thread.}}
\DoxyCodeLine{00114\ \textcolor{comment}{}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ 1:\ http://bytes.com/topic/python/answers/793370-\/multiple-\/independent-\/python-\/interpreters-\/c-\/c-\/program}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ 2:\ https://github.com/lava/matplotlib-\/cpp/pull/202\#issue-\/436220256}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ \ \ \ \ \ */}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}\&\ get()\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ interkeeper(\textcolor{keyword}{false});}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}\&\ kill()\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ interkeeper(\textcolor{keyword}{true});}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ Stores\ the\ actual\ singleton\ object\ referenced\ by\ \`{}get()`\ and\ \`{}kill()`.}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}\&\ interkeeper(\textcolor{keywordtype}{bool}\ should\_kill)\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}\ ctx;}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (should\_kill)}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ ctx.\string~\_interpreter();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ctx;}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ PyObject*\ safe\_import(PyObject*\ module,\ std::string\ fname)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ PyObject*\ fn\ =\ PyObject\_GetAttrString(module,\ fname.c\_str());}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!fn)}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(std::string(\textcolor{stringliteral}{"{}Couldn't\ find\ required\ function:\ "{}})\ +\ fname);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!PyFunction\_Check(fn))}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(fname\ +\ std::string(\textcolor{stringliteral}{"{}\ is\ unexpectedly\ not\ a\ PyFunction."{}}));}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fn;}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#\ \ if\ PY\_MAJOR\_VERSION\ >=\ 3}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{void}\ *import\_numpy()\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ import\_array();\ \textcolor{comment}{//\ initialize\ C-\/API}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordtype}{void}\ import\_numpy()\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ import\_array();\ \textcolor{comment}{//\ initialize\ C-\/API}}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\_interpreter}}()\ \{}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ optional\ but\ recommended}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#if\ PY\_MAJOR\_VERSION\ >=\ 3}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}\ name[]\ =\ L\textcolor{stringliteral}{"{}plotting"{}};}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ name[]\ =\ \textcolor{stringliteral}{"{}plotting"{}};}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ Py\_SetProgramName(name);}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ Py\_Initialize();}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}\ \textcolor{keyword}{const}\ *dummy\_args[]\ =\ \{L\textcolor{stringliteral}{"{}Python"{}},\ NULL\};\ \ \textcolor{comment}{//\ const\ is\ needed\ because\ literals\ must\ not\ be\ modified}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}\ \textcolor{keyword}{const}\ **argv\ =\ dummy\_args;}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ argc\ =\ \textcolor{keyword}{sizeof}(dummy\_args)/\textcolor{keyword}{sizeof}(dummy\_args[0])-\/1;}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#if\ PY\_MAJOR\_VERSION\ >=\ 3}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ PySys\_SetArgv(argc,\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{wchar\_t}\ **\textcolor{keyword}{>}(argv));}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ PySys\_SetArgv(argc,\ (\textcolor{keywordtype}{char}\ **)(argv));}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ import\_numpy();\ \textcolor{comment}{//\ initialize\ numpy\ C-\/API}}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ PyObject*\ matplotlibname\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}matplotlib"{}});}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ PyObject*\ pyplotname\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}matplotlib.pyplot"{}});}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ PyObject*\ cmname\ \ =\ PyString\_FromString(\textcolor{stringliteral}{"{}matplotlib.cm"{}});}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ PyObject*\ pylabname\ \ =\ PyString\_FromString(\textcolor{stringliteral}{"{}pylab"{}});}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pyplotname\ ||\ !pylabname\ ||\ !matplotlibname\ ||\ !cmname)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ PyObject*\ matplotlib\ =\ PyImport\_Import(matplotlibname);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ Py\_DECREF(matplotlibname);}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!matplotlib)\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ PyErr\_Print();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ matplotlib!"{}});}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ matplotlib.use()\ must\ be\ called\ *before*\ pylab,\ matplotlib.pyplot,}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ or\ matplotlib.backends\ is\ imported\ for\ the\ first\ time}}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!s\_backend.empty())\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject\_CallMethod(matplotlib,\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\textcolor{stringliteral}{"{}use"{}}),\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\textcolor{stringliteral}{"{}s"{}}),\ s\_backend.c\_str());}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ PyObject*\ pymod\ =\ PyImport\_Import(pyplotname);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ Py\_DECREF(pyplotname);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pymod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ matplotlib.pyplot!"{}});\ \}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ s\_python\_colormap\ =\ PyImport\_Import(cmname);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ Py\_DECREF(cmname);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!s\_python\_colormap)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ matplotlib.cm!"{}});\ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ PyObject*\ pylabmod\ =\ PyImport\_Import(pylabname);}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ Py\_DECREF(pylabname);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pylabmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ pylab!"{}});\ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ s\_python\_function\_arrow\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}arrow"{}});}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ s\_python\_function\_show\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}show"{}});}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ s\_python\_function\_close\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}close"{}});}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ s\_python\_function\_draw\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}draw"{}});}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ s\_python\_function\_pause\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}pause"{}});}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ s\_python\_function\_figure\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}figure"{}});}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ s\_python\_function\_fignum\_exists\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}fignum\_exists"{}});}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ s\_python\_function\_plot\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}plot"{}});}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ s\_python\_function\_quiver\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}quiver"{}});}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ s\_python\_function\_contour\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}contour"{}});}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ s\_python\_function\_semilogx\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}semilogx"{}});}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ s\_python\_function\_semilogy\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}semilogy"{}});}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ s\_python\_function\_loglog\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}loglog"{}});}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ s\_python\_function\_fill\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}fill"{}});}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ s\_python\_function\_fill\_between\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}fill\_between"{}});}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ s\_python\_function\_hist\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}hist"{}});}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ s\_python\_function\_scatter\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}scatter"{}});}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ s\_python\_function\_boxplot\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}boxplot"{}});}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ s\_python\_function\_subplot\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}subplot"{}});}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ s\_python\_function\_subplot2grid\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}subplot2grid"{}});}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ s\_python\_function\_legend\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}legend"{}});}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ s\_python\_function\_xlim\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}xlim"{}});}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ s\_python\_function\_ylim\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}ylim"{}});}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ s\_python\_function\_title\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}title"{}});}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ s\_python\_function\_axis\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}axis"{}});}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ s\_python\_function\_axhline\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}axhline"{}});}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ s\_python\_function\_axvline\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}axvline"{}});}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ s\_python\_function\_axvspan\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}axvspan"{}});}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ s\_python\_function\_xlabel\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}xlabel"{}});}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ s\_python\_function\_ylabel\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}ylabel"{}});}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ s\_python\_function\_gca\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}gca"{}});}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ s\_python\_function\_xticks\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}xticks"{}});}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ s\_python\_function\_yticks\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}yticks"{}});}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ s\_python\_function\_margins\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}margins"{}});}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ s\_python\_function\_tick\_params\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}tick\_params"{}});}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ s\_python\_function\_grid\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}grid"{}});}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ s\_python\_function\_ion\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}ion"{}});}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ s\_python\_function\_ginput\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}ginput"{}});}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ s\_python\_function\_save\ =\ safe\_import(pylabmod,\ \textcolor{stringliteral}{"{}savefig"{}});}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ s\_python\_function\_annotate\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}annotate"{}});}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ s\_python\_function\_cla\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}cla"{}});}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ s\_python\_function\_clf\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}clf"{}});}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ s\_python\_function\_errorbar\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}errorbar"{}});}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ s\_python\_function\_tight\_layout\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}tight\_layout"{}});}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ s\_python\_function\_stem\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}stem"{}});}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ s\_python\_function\_xkcd\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}xkcd"{}});}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ s\_python\_function\_text\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}text"{}});}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ s\_python\_function\_suptitle\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}suptitle"{}});}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ s\_python\_function\_bar\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}bar"{}});}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ s\_python\_function\_barh\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}barh"{}});}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ s\_python\_function\_colorbar\ =\ PyObject\_GetAttrString(pymod,\ \textcolor{stringliteral}{"{}colorbar"{}});}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ s\_python\_function\_subplots\_adjust\ =\ safe\_import(pymod,\textcolor{stringliteral}{"{}subplots\_adjust"{}});}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ s\_python\_function\_rcparams\ =\ PyObject\_GetAttrString(pymod,\ \textcolor{stringliteral}{"{}rcParams"{}});}
\DoxyCodeLine{00280\ \ \ \ \ s\_python\_function\_spy\ =\ PyObject\_GetAttrString(pymod,\ \textcolor{stringliteral}{"{}spy"{}});}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ s\_python\_function\_imshow\ =\ safe\_import(pymod,\ \textcolor{stringliteral}{"{}imshow"{}});}
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ s\_python\_empty\_tuple\ =\ PyTuple\_New(0);}
\DoxyCodeLine{00285\ \ \ \ \ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1__interpreter}{\string~\_interpreter}}()\ \{}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ Py\_Finalize();}
\DoxyCodeLine{00289\ \ \ \ \ \}}
\DoxyCodeLine{00290\ \};}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \}\ \textcolor{comment}{//\ end\ namespace\ detail}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00303\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ backend(\textcolor{keyword}{const}\ std::string\&\ name)}
\DoxyCodeLine{00304\ \{}
\DoxyCodeLine{00305\ \ \ \ \ detail::s\_backend\ =\ name;}
\DoxyCodeLine{00306\ \}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ annotate(std::string\ annotation,\ \textcolor{keywordtype}{double}\ x,\ \textcolor{keywordtype}{double}\ y)}
\DoxyCodeLine{00309\ \{}
\DoxyCodeLine{00310\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ PyObject\ *\ xy\ =\ PyTuple\_New(2);}
\DoxyCodeLine{00313\ \ \ \ \ PyObject\ *\ str\ =\ PyString\_FromString(annotation.c\_str());}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ PyTuple\_SetItem(xy,0,PyFloat\_FromDouble(x));}
\DoxyCodeLine{00316\ \ \ \ \ PyTuple\_SetItem(xy,1,PyFloat\_FromDouble(y));}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00319\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}xy"{}},\ xy);}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00322\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ str);}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_annotate,\ args,\ kwargs);}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00327\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00332\ \}}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00337\ \textcolor{comment}{//\ Type\ selector\ for\ numpy\ array\ conversion}}
\DoxyCodeLine{00338\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_NOTYPE;\ \};\ \textcolor{comment}{//Default}}
\DoxyCodeLine{00339\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<double>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_DOUBLE;\ \};}
\DoxyCodeLine{00340\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<float>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_FLOAT;\ \};}
\DoxyCodeLine{00341\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<bool>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_BOOL;\ \};}
\DoxyCodeLine{00342\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<int8\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_INT8;\ \};}
\DoxyCodeLine{00343\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<int16\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_SHORT;\ \};}
\DoxyCodeLine{00344\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<int32\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_INT;\ \};}
\DoxyCodeLine{00345\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<int64\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_INT64;\ \};}
\DoxyCodeLine{00346\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<uint8\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_UINT8;\ \};}
\DoxyCodeLine{00347\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<uint16\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_USHORT;\ \};}
\DoxyCodeLine{00348\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<uint32\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_ULONG;\ \};}
\DoxyCodeLine{00349\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<uint64\_t>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_UINT64;\ \};}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \textcolor{comment}{//\ Sanity\ checks;\ comment\ them\ out\ or\ change\ the\ numpy\ type\ below\ if\ you're\ compiling\ on}}
\DoxyCodeLine{00352\ \textcolor{comment}{//\ a\ platform\ where\ they\ don't\ apply}}
\DoxyCodeLine{00353\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}\ long)\ ==\ 8);}
\DoxyCodeLine{00354\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<long\ long>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_INT64;\ \};}
\DoxyCodeLine{00355\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ long)\ ==\ 8);}
\DoxyCodeLine{00356\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type}}<unsigned\ long\ long>\ \{\ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ NPY\_TYPES\ type\ =\ NPY\_UINT64;\ \};}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00359\ PyObject*\ get\_array(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ v)}
\DoxyCodeLine{00360\ \{}
\DoxyCodeLine{00361\ \ \ \ \ npy\_intp\ vsize\ =\ v.size();}
\DoxyCodeLine{00362\ \ \ \ \ NPY\_TYPES\ type\ =\ \mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1select__npy__type}{select\_npy\_type<Numeric>::type}};}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ NPY\_NOTYPE)\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ memsize\ =\ v.size()*\textcolor{keyword}{sizeof}(double);}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}*\ dp\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}*\textcolor{keyword}{>}(::malloc(memsize));}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i=0;\ i<v.size();\ ++i)}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ dp[i]\ =\ v[i];}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ PyObject*\ varray\ =\ PyArray\_SimpleNewFromData(1,\ \&vsize,\ NPY\_DOUBLE,\ dp);}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ PyArray\_UpdateFlags(\textcolor{keyword}{reinterpret\_cast<}PyArrayObject*\textcolor{keyword}{>}(varray),\ NPY\_ARRAY\_OWNDATA);}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ varray;}
\DoxyCodeLine{00371\ \ \ \ \ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \ \ \ \ PyObject*\ varray\ =\ PyArray\_SimpleNewFromData(1,\ \&vsize,\ type,\ (\textcolor{keywordtype}{void}*)(v.data()));}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ varray;}
\DoxyCodeLine{00375\ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00379\ PyObject*\ get\_2darray(\textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\&\ v)}
\DoxyCodeLine{00380\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{if}\ (v.size()\ <\ 1)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}get\_2d\_array\ v\ too\ small"{}});}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ npy\_intp\ vsize[2]\ =\ \{\textcolor{keyword}{static\_cast<}npy\_intp\textcolor{keyword}{>}(v.size()),}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}npy\_intp\textcolor{keyword}{>}(v[0].size())\};}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ PyArrayObject\ *varray\ =}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ (PyArrayObject\ *)PyArray\_SimpleNew(2,\ vsize,\ NPY\_DOUBLE);}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{keywordtype}{double}\ *vd\_begin\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\ *\textcolor{keyword}{>}(PyArray\_DATA(varray));}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keywordflow}{for}\ (const\ ::std::vector<Numeric>\ \&v\_row\ :\ v)\ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (v\_row.size()\ !=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(vsize[1]))}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Missmatched\ array\ size"{}});}
\DoxyCodeLine{00394\ \ \ \ \ \ \ std::copy(v\_row.begin(),\ v\_row.end(),\ vd\_begin);}
\DoxyCodeLine{00395\ \ \ \ \ \ \ vd\_begin\ +=\ vsize[1];}
\DoxyCodeLine{00396\ \ \ \ \ \}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}PyObject\ *\textcolor{keyword}{>}(varray);}
\DoxyCodeLine{00399\ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ fallback\ if\ we\ don't\ have\ numpy:\ copy\ every\ element\ of\ the\ given\ vector}}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00403\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00404\ PyObject*\ get\_array(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ v)}
\DoxyCodeLine{00405\ \{}
\DoxyCodeLine{00406\ \ \ \ \ PyObject*\ list\ =\ PyList\_New(v.size());}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ v.size();\ ++i)\ \{}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ PyList\_SetItem(list,\ i,\ PyFloat\_FromDouble(v.at(i)));}
\DoxyCodeLine{00409\ \ \ \ \ \}}
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{keywordflow}{return}\ list;}
\DoxyCodeLine{00411\ \}}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \textcolor{comment}{//\ sometimes,\ for\ labels\ and\ such,\ we\ need\ string\ arrays}}
\DoxyCodeLine{00416\ \textcolor{keyword}{inline}\ PyObject\ *\ get\_array(\textcolor{keyword}{const}\ std::vector<std::string>\&\ strings)}
\DoxyCodeLine{00417\ \{}
\DoxyCodeLine{00418\ \ \ PyObject*\ list\ =\ PyList\_New(strings.size());}
\DoxyCodeLine{00419\ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ i\ =\ 0;\ i\ <\ strings.size();\ ++i)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ PyList\_SetItem(list,\ i,\ PyString\_FromString(strings[i].c\_str()));}
\DoxyCodeLine{00421\ \ \ \}}
\DoxyCodeLine{00422\ \ \ \textcolor{keywordflow}{return}\ list;}
\DoxyCodeLine{00423\ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \textcolor{comment}{//\ not\ all\ matplotlib\ need\ 2d\ arrays,\ some\ prefer\ lists\ of\ lists}}
\DoxyCodeLine{00426\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00427\ PyObject*\ get\_listlist(\textcolor{keyword}{const}\ std::vector<std::vector<Numeric>>\&\ ll)}
\DoxyCodeLine{00428\ \{}
\DoxyCodeLine{00429\ \ \ PyObject*\ listlist\ =\ PyList\_New(ll.size());}
\DoxyCodeLine{00430\ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ i\ =\ 0;\ i\ <\ ll.size();\ ++i)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ PyList\_SetItem(listlist,\ i,\ get\_array(ll[i]));}
\DoxyCodeLine{00432\ \ \ \}}
\DoxyCodeLine{00433\ \ \ \textcolor{keywordflow}{return}\ listlist;}
\DoxyCodeLine{00434\ \}}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \}\ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00441\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00442\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&y,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{00443\ \{}
\DoxyCodeLine{00444\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00449\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{00450\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00453\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{00454\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00455\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{00458\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00459\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{00460\ \ \ \ \ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00462\ \ \ \ \ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_plot,\ args,\ kwargs);}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00467\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00471\ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \textcolor{comment}{//\ TODO\ -\/\ it\ should\ be\ possible\ to\ make\ this\ work\ by\ implementing}}
\DoxyCodeLine{00474\ \textcolor{comment}{//\ a\ non-\/numpy\ alternative\ for\ \`{}detail::get\_2darray()`.}}
\DoxyCodeLine{00475\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00476\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00477\ \textcolor{keywordtype}{void}\ plot\_surface(\textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&x,}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&y,}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&z,}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::map<std::string,\ std::string>(),}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ fig\_number=0)}
\DoxyCodeLine{00483\ \{}
\DoxyCodeLine{00484\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \textcolor{comment}{//\ We\ lazily\ load\ the\ modules\ here\ the\ first\ time\ this\ function\ is\ called}}
\DoxyCodeLine{00487\ \ \ \textcolor{comment}{//\ because\ I'm\ not\ sure\ that\ we\ can\ assume\ "{}matplotlib\ installed"{}\ implies}}
\DoxyCodeLine{00488\ \ \ \textcolor{comment}{//\ "{}mpl\_toolkits\ installed"{}\ on\ all\ platforms,\ and\ we\ don't\ want\ to\ require}}
\DoxyCodeLine{00489\ \ \ \textcolor{comment}{//\ it\ for\ people\ who\ don't\ need\ 3d\ plots.}}
\DoxyCodeLine{00490\ \ \ \textcolor{keyword}{static}\ PyObject\ *mpl\_toolkitsmod\ =\ \textcolor{keyword}{nullptr},\ *axis3dmod\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00491\ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{}
\DoxyCodeLine{00492\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \ \ \ \ PyObject*\ mpl\_toolkits\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits"{}});}
\DoxyCodeLine{00495\ \ \ \ \ PyObject*\ axis3d\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits.mplot3d"{}});}
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkits\ ||\ !axis3d)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});\ \}}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \ \ mpl\_toolkitsmod\ =\ PyImport\_Import(mpl\_toolkits);}
\DoxyCodeLine{00499\ \ \ \ \ Py\_DECREF(mpl\_toolkits);}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits!"{}});\ \}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \ \ \ \ axis3dmod\ =\ PyImport\_Import(axis3d);}
\DoxyCodeLine{00503\ \ \ \ \ Py\_DECREF(axis3d);}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keywordflow}{if}\ (!axis3dmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits.mplot3d!"{}});\ \}}
\DoxyCodeLine{00505\ \ \ \}}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{00508\ \ \ assert(y.size()\ ==\ z.size());}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00511\ \ \ PyObject\ *xarray\ =\ detail::get\_2darray(x);}
\DoxyCodeLine{00512\ \ \ PyObject\ *yarray\ =\ detail::get\_2darray(y);}
\DoxyCodeLine{00513\ \ \ PyObject\ *zarray\ =\ detail::get\_2darray(z);}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00516\ \ \ PyObject\ *args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{00517\ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00518\ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00519\ \ \ PyTuple\_SetItem(args,\ 2,\ zarray);}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ \textcolor{comment}{//\ Build\ up\ the\ kw\ args.}}
\DoxyCodeLine{00522\ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00523\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}rstride"{}},\ PyInt\_FromLong(1));}
\DoxyCodeLine{00524\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}cstride"{}},\ PyInt\_FromLong(1));}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ PyObject\ *python\_colormap\_coolwarm\ =\ PyObject\_GetAttrString(}
\DoxyCodeLine{00527\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_colormap,\ \textcolor{stringliteral}{"{}coolwarm"{}});}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}cmap"{}},\ python\_colormap\_coolwarm);}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{keywordflow}{if}\ (it-\/>first\ ==\ \textcolor{stringliteral}{"{}linewidth"{}}\ ||\ it-\/>first\ ==\ \textcolor{stringliteral}{"{}alpha"{}})\ \{}
\DoxyCodeLine{00534\ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ PyFloat\_FromDouble(std::stod(it-\/>second)));}
\DoxyCodeLine{00536\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00537\ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00539\ \ \ \ \ \}}
\DoxyCodeLine{00540\ \ \ \}}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ PyObject\ *fig\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00543\ \ \ PyObject*\ fig\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00544\ \ \ PyTuple\_SetItem(fig\_args,\ 0,\ PyLong\_FromLong(fig\_number));}
\DoxyCodeLine{00545\ \ \ PyObject\ *fig\_exists\ =}
\DoxyCodeLine{00546\ \ \ \ \ PyObject\_CallObject(}
\DoxyCodeLine{00547\ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_fignum\_exists,\ fig\_args);}
\DoxyCodeLine{00548\ \ \ \textcolor{keywordflow}{if}\ (!PyObject\_IsTrue(fig\_exists))\ \{}
\DoxyCodeLine{00549\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{00550\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{00551\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00552\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{00553\ \ \ \ \ \ \ fig\_args);}
\DoxyCodeLine{00554\ \ \ \}}
\DoxyCodeLine{00555\ \ \ Py\_DECREF(fig\_exists);}
\DoxyCodeLine{00556\ \ \ \textcolor{keywordflow}{if}\ (!fig)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure()\ failed."{}});}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ PyObject\ *gca\_kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00559\ \ \ PyDict\_SetItemString(gca\_kwargs,\ \textcolor{stringliteral}{"{}projection"{}},\ PyString\_FromString(\textcolor{stringliteral}{"{}3d"{}}));}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ PyObject\ *gca\ =\ PyObject\_GetAttrString(fig,\ \textcolor{stringliteral}{"{}gca"{}});}
\DoxyCodeLine{00562\ \ \ \textcolor{keywordflow}{if}\ (!gca)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ gca"{}});}
\DoxyCodeLine{00563\ \ \ Py\_INCREF(gca);}
\DoxyCodeLine{00564\ \ \ PyObject\ *axis\ =\ PyObject\_Call(}
\DoxyCodeLine{00565\ \ \ \ \ \ \ gca,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ gca\_kwargs);}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \ \ \textcolor{keywordflow}{if}\ (!axis)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ axis"{}});}
\DoxyCodeLine{00568\ \ \ Py\_INCREF(axis);}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \ \ Py\_DECREF(gca);}
\DoxyCodeLine{00571\ \ \ Py\_DECREF(gca\_kwargs);}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00573\ \ \ PyObject\ *plot\_surface\ =\ PyObject\_GetAttrString(axis,\ \textcolor{stringliteral}{"{}plot\_surface"{}});}
\DoxyCodeLine{00574\ \ \ \textcolor{keywordflow}{if}\ (!plot\_surface)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ surface"{}});}
\DoxyCodeLine{00575\ \ \ Py\_INCREF(plot\_surface);}
\DoxyCodeLine{00576\ \ \ PyObject\ *res\ =\ PyObject\_Call(plot\_surface,\ args,\ kwargs);}
\DoxyCodeLine{00577\ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}failed\ surface"{}});}
\DoxyCodeLine{00578\ \ \ Py\_DECREF(plot\_surface);}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00580\ \ \ Py\_DECREF(axis);}
\DoxyCodeLine{00581\ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00582\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00583\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{00584\ \}}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00587\ \textcolor{keywordtype}{void}\ contour(\textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&x,}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&y,}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&z,}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{00591\ \{}
\DoxyCodeLine{00592\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00595\ \ \ PyObject\ *xarray\ =\ detail::get\_2darray(x);}
\DoxyCodeLine{00596\ \ \ PyObject\ *yarray\ =\ detail::get\_2darray(y);}
\DoxyCodeLine{00597\ \ \ PyObject\ *zarray\ =\ detail::get\_2darray(z);}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00600\ \ \ PyObject\ *args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{00601\ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00602\ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00603\ \ \ PyTuple\_SetItem(args,\ 2,\ zarray);}
\DoxyCodeLine{00604\ }
\DoxyCodeLine{00605\ \ \ \textcolor{comment}{//\ Build\ up\ the\ kw\ args.}}
\DoxyCodeLine{00606\ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \ \ PyObject\ *python\_colormap\_coolwarm\ =\ PyObject\_GetAttrString(}
\DoxyCodeLine{00609\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_colormap,\ \textcolor{stringliteral}{"{}coolwarm"{}});}
\DoxyCodeLine{00610\ }
\DoxyCodeLine{00611\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}cmap"{}},\ python\_colormap\_coolwarm);}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00615\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00617\ \ \ \}}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00619\ \ \ PyObject\ *res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_contour,\ args,\ kwargs);}
\DoxyCodeLine{00620\ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}failed\ contour"{}});}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00624\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{00626\ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00629\ \textcolor{keywordtype}{void}\ spy(\textcolor{keyword}{const}\ std::vector<::std::vector<Numeric>>\ \&x,}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ markersize\ =\ -\/1,\ \ \textcolor{comment}{//\ -\/1\ for\ default\ matplotlib\ size}}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{00632\ \{}
\DoxyCodeLine{00633\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ PyObject\ *xarray\ =\ detail::get\_2darray(x);}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00638\ \ \ \textcolor{keywordflow}{if}\ (markersize\ !=\ -\/1)\ \{}
\DoxyCodeLine{00639\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}markersize"{}},\ PyFloat\_FromDouble(markersize));}
\DoxyCodeLine{00640\ \ \ \}}
\DoxyCodeLine{00641\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00643\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00645\ \ \ \}}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00647\ \ \ PyObject\ *plot\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00648\ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \ \ PyObject\ *res\ =\ PyObject\_Call(}
\DoxyCodeLine{00651\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_spy,\ plot\_args,\ kwargs);}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{00654\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00655\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{00656\ \}}
\DoxyCodeLine{00657\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00660\ \textcolor{keywordtype}{void}\ plot3(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&x,}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&y,}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&z,}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::map<std::string,\ std::string>(),}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ fig\_number=0)}
\DoxyCodeLine{00666\ \{}
\DoxyCodeLine{00667\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00669\ \ \ \textcolor{comment}{//\ Same\ as\ with\ plot\_surface:\ We\ lazily\ load\ the\ modules\ here\ the\ first\ time}}
\DoxyCodeLine{00670\ \ \ \textcolor{comment}{//\ this\ function\ is\ called\ because\ I'm\ not\ sure\ that\ we\ can\ assume\ "{}matplotlib}}
\DoxyCodeLine{00671\ \ \ \textcolor{comment}{//\ installed"{}\ implies\ "{}mpl\_toolkits\ installed"{}\ on\ all\ platforms,\ and\ we\ don't}}
\DoxyCodeLine{00672\ \ \ \textcolor{comment}{//\ want\ to\ require\ it\ for\ people\ who\ don't\ need\ 3d\ plots.}}
\DoxyCodeLine{00673\ \ \ \textcolor{keyword}{static}\ PyObject\ *mpl\_toolkitsmod\ =\ \textcolor{keyword}{nullptr},\ *axis3dmod\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00674\ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{}
\DoxyCodeLine{00675\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \ \ \ \ PyObject*\ mpl\_toolkits\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits"{}});}
\DoxyCodeLine{00678\ \ \ \ \ PyObject*\ axis3d\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits.mplot3d"{}});}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkits\ ||\ !axis3d)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});\ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \ \ mpl\_toolkitsmod\ =\ PyImport\_Import(mpl\_toolkits);}
\DoxyCodeLine{00682\ \ \ \ \ Py\_DECREF(mpl\_toolkits);}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits!"{}});\ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \ \ axis3dmod\ =\ PyImport\_Import(axis3d);}
\DoxyCodeLine{00686\ \ \ \ \ Py\_DECREF(axis3d);}
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordflow}{if}\ (!axis3dmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits.mplot3d!"{}});\ \}}
\DoxyCodeLine{00688\ \ \ \}}
\DoxyCodeLine{00689\ }
\DoxyCodeLine{00690\ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{00691\ \ \ assert(y.size()\ ==\ z.size());}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ PyObject\ *xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{00694\ \ \ PyObject\ *yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{00695\ \ \ PyObject\ *zarray\ =\ detail::get\_array(z);}
\DoxyCodeLine{00696\ }
\DoxyCodeLine{00697\ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00698\ \ \ PyObject\ *args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{00699\ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00700\ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00701\ \ \ PyTuple\_SetItem(args,\ 2,\ zarray);}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ \textcolor{comment}{//\ Build\ up\ the\ kw\ args.}}
\DoxyCodeLine{00704\ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00708\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00710\ \ \ \}}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ PyObject\ *fig\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00713\ \ \ PyObject*\ fig\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00714\ \ \ PyTuple\_SetItem(fig\_args,\ 0,\ PyLong\_FromLong(fig\_number));}
\DoxyCodeLine{00715\ \ \ PyObject\ *fig\_exists\ =}
\DoxyCodeLine{00716\ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_fignum\_exists,\ fig\_args);}
\DoxyCodeLine{00717\ \ \ \textcolor{keywordflow}{if}\ (!PyObject\_IsTrue(fig\_exists))\ \{}
\DoxyCodeLine{00718\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{00719\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{00720\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00721\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{00722\ \ \ \ \ \ \ fig\_args);}
\DoxyCodeLine{00723\ \ \ \}}
\DoxyCodeLine{00724\ \ \ \textcolor{keywordflow}{if}\ (!fig)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure()\ failed."{}});}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \ \ PyObject\ *gca\_kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00727\ \ \ PyDict\_SetItemString(gca\_kwargs,\ \textcolor{stringliteral}{"{}projection"{}},\ PyString\_FromString(\textcolor{stringliteral}{"{}3d"{}}));}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ PyObject\ *gca\ =\ PyObject\_GetAttrString(fig,\ \textcolor{stringliteral}{"{}gca"{}});}
\DoxyCodeLine{00730\ \ \ \textcolor{keywordflow}{if}\ (!gca)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ gca"{}});}
\DoxyCodeLine{00731\ \ \ Py\_INCREF(gca);}
\DoxyCodeLine{00732\ \ \ PyObject\ *axis\ =\ PyObject\_Call(}
\DoxyCodeLine{00733\ \ \ \ \ \ \ gca,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ gca\_kwargs);}
\DoxyCodeLine{00734\ }
\DoxyCodeLine{00735\ \ \ \textcolor{keywordflow}{if}\ (!axis)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ axis"{}});}
\DoxyCodeLine{00736\ \ \ Py\_INCREF(axis);}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ Py\_DECREF(gca);}
\DoxyCodeLine{00739\ \ \ Py\_DECREF(gca\_kwargs);}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \ \ PyObject\ *plot3\ =\ PyObject\_GetAttrString(axis,\ \textcolor{stringliteral}{"{}plot"{}});}
\DoxyCodeLine{00742\ \ \ \textcolor{keywordflow}{if}\ (!plot3)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ 3D\ line\ plot"{}});}
\DoxyCodeLine{00743\ \ \ Py\_INCREF(plot3);}
\DoxyCodeLine{00744\ \ \ PyObject\ *res\ =\ PyObject\_Call(plot3,\ args,\ kwargs);}
\DoxyCodeLine{00745\ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Failed\ 3D\ line\ plot"{}});}
\DoxyCodeLine{00746\ \ \ Py\_DECREF(plot3);}
\DoxyCodeLine{00747\ }
\DoxyCodeLine{00748\ \ \ Py\_DECREF(axis);}
\DoxyCodeLine{00749\ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00750\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00751\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{00752\ \}}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00755\ \textcolor{keywordtype}{bool}\ stem(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&y,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{00756\ \{}
\DoxyCodeLine{00757\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00762\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{00763\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00766\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{00767\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00768\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{00771\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \ \ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00776\ \ \ \ \ \}}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_stem,\ args,\ kwargs);}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00782\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00783\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{00785\ }
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00787\ \}}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \textcolor{keyword}{template}<\ \textcolor{keyword}{typename}\ Numeric\ >}
\DoxyCodeLine{00790\ \textcolor{keywordtype}{bool}\ fill(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{00791\ \{}
\DoxyCodeLine{00792\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00797\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{00798\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00801\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{00802\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00803\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{00806\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00807\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00809\ \ \ \ \ \}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_fill,\ args,\ kwargs);}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00814\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00819\ \}}
\DoxyCodeLine{00820\ }
\DoxyCodeLine{00821\ \textcolor{keyword}{template}<\ \textcolor{keyword}{typename}\ Numeric\ >}
\DoxyCodeLine{00822\ \textcolor{keywordtype}{bool}\ fill\_between(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y1,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y2,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{00823\ \{}
\DoxyCodeLine{00824\ \ \ \ \ assert(x.size()\ ==\ y1.size());}
\DoxyCodeLine{00825\ \ \ \ \ assert(x.size()\ ==\ y2.size());}
\DoxyCodeLine{00826\ }
\DoxyCodeLine{00827\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00828\ }
\DoxyCodeLine{00829\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ arrays}}
\DoxyCodeLine{00830\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{00831\ \ \ \ \ PyObject*\ y1array\ =\ detail::get\_array(y1);}
\DoxyCodeLine{00832\ \ \ \ \ PyObject*\ y2array\ =\ detail::get\_array(y2);}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{00835\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{00836\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{00837\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ y1array);}
\DoxyCodeLine{00838\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ y2array);}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{00841\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00844\ \ \ \ \ \}}
\DoxyCodeLine{00845\ }
\DoxyCodeLine{00846\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_fill\_between,\ args,\ kwargs);}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00848\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00849\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00853\ \}}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00856\ \textcolor{keywordtype}{bool}\ arrow(Numeric\ x,\ Numeric\ y,\ Numeric\ end\_x,\ Numeric\ end\_y,\ \textcolor{keyword}{const}\ std::string\&\ fc\ =\ \textcolor{stringliteral}{"{}r"{}},}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ ec\ =\ \textcolor{stringliteral}{"{}k"{}},\ Numeric\ head\_length\ =\ 0.25,\ Numeric\ head\_width\ =\ 0.1625)\ \{}
\DoxyCodeLine{00858\ \ \ \ \ PyObject*\ obj\_x\ =\ PyFloat\_FromDouble(x);}
\DoxyCodeLine{00859\ \ \ \ \ PyObject*\ obj\_y\ =\ PyFloat\_FromDouble(y);}
\DoxyCodeLine{00860\ \ \ \ \ PyObject*\ obj\_end\_x\ =\ PyFloat\_FromDouble(end\_x);}
\DoxyCodeLine{00861\ \ \ \ \ PyObject*\ obj\_end\_y\ =\ PyFloat\_FromDouble(end\_y);}
\DoxyCodeLine{00862\ }
\DoxyCodeLine{00863\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00864\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}fc"{}},\ PyString\_FromString(fc.c\_str()));}
\DoxyCodeLine{00865\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}ec"{}},\ PyString\_FromString(ec.c\_str()));}
\DoxyCodeLine{00866\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}head\_width"{}},\ PyFloat\_FromDouble(head\_width));}
\DoxyCodeLine{00867\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}head\_length"{}},\ PyFloat\_FromDouble(head\_length));}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(4);}
\DoxyCodeLine{00870\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ obj\_x);}
\DoxyCodeLine{00871\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ obj\_y);}
\DoxyCodeLine{00872\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ obj\_end\_x);}
\DoxyCodeLine{00873\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 3,\ obj\_end\_y);}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ PyObject*\ res\ =}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_arrow,\ plot\_args,\ kwargs);}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{00879\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00884\ \}}
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \textcolor{keyword}{template}<\ \textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{00887\ \textcolor{keywordtype}{bool}\ hist(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keywordtype}{long}\ bins=10,std::string\ color=\textcolor{stringliteral}{"{}b"{}},}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ alpha=1.0,\ \textcolor{keywordtype}{bool}\ cumulative=\textcolor{keyword}{false})}
\DoxyCodeLine{00889\ \{}
\DoxyCodeLine{00890\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00891\ }
\DoxyCodeLine{00892\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00895\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}bins"{}},\ PyLong\_FromLong(bins));}
\DoxyCodeLine{00896\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}color"{}},\ PyString\_FromString(color.c\_str()));}
\DoxyCodeLine{00897\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}alpha"{}},\ PyFloat\_FromDouble(alpha));}
\DoxyCodeLine{00898\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}cumulative"{}},\ cumulative\ ?\ Py\_True\ :\ Py\_False);}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00901\ }
\DoxyCodeLine{00902\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ yarray);}
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_hist,\ plot\_args,\ kwargs);}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ }
\DoxyCodeLine{00908\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{00909\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00910\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00912\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00913\ \}}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \textcolor{preprocessor}{\#ifndef\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00916\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00917\ }
\DoxyCodeLine{00918\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keywordtype}{void}\ *ptr,\ \textcolor{keyword}{const}\ NPY\_TYPES\ type,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ rows,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ columns,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ colors,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords,\ PyObject**\ out)}
\DoxyCodeLine{00919\ \{}
\DoxyCodeLine{00920\ \ \ \ \ assert(type\ ==\ NPY\_UINT8\ ||\ type\ ==\ NPY\_FLOAT);}
\DoxyCodeLine{00921\ \ \ \ \ assert(colors\ ==\ 1\ ||\ colors\ ==\ 3\ ||\ colors\ ==\ 4);}
\DoxyCodeLine{00922\ }
\DoxyCodeLine{00923\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ \ \ \ \ \textcolor{comment}{//\ construct\ args}}
\DoxyCodeLine{00926\ \ \ \ \ npy\_intp\ dims[3]\ =\ \{\ rows,\ columns,\ colors\ \};}
\DoxyCodeLine{00927\ \ \ \ \ PyObject\ *args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{00928\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyArray\_SimpleNewFromData(colors\ ==\ 1\ ?\ 2\ :\ 3,\ dims,\ type,\ ptr));}
\DoxyCodeLine{00929\ }
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{00931\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{00932\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{00933\ \ \ \ \ \{}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{00935\ \ \ \ \ \}}
\DoxyCodeLine{00936\ }
\DoxyCodeLine{00937\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_imshow,\ args,\ kwargs);}
\DoxyCodeLine{00938\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{00939\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{00940\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ imshow()\ failed"{}});}
\DoxyCodeLine{00942\ \ \ \ \ \textcolor{keywordflow}{if}\ (out)}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ *out\ =\ res;}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{00946\ \}}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ \}\ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *ptr,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ rows,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ columns,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ colors,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\},\ PyObject**\ out\ =\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00951\ \{}
\DoxyCodeLine{00952\ \ \ \ \ detail::imshow((\textcolor{keywordtype}{void}\ *)\ ptr,\ NPY\_UINT8,\ rows,\ columns,\ colors,\ keywords,\ out);}
\DoxyCodeLine{00953\ \}}
\DoxyCodeLine{00954\ }
\DoxyCodeLine{00955\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ *ptr,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ rows,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ columns,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ colors,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\},\ PyObject**\ out\ =\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00956\ \{}
\DoxyCodeLine{00957\ \ \ \ \ detail::imshow((\textcolor{keywordtype}{void}\ *)\ ptr,\ NPY\_FLOAT,\ rows,\ columns,\ colors,\ keywords,\ out);}
\DoxyCodeLine{00958\ \}}
\DoxyCodeLine{00959\ }
\DoxyCodeLine{00960\ \textcolor{preprocessor}{\#ifdef\ WITH\_OPENCV}}
\DoxyCodeLine{00961\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keyword}{const}\ cv::Mat\ \&image,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{00962\ \{}
\DoxyCodeLine{00963\ \ \ \ \ \textcolor{comment}{//\ Convert\ underlying\ type\ of\ matrix,\ if\ needed}}
\DoxyCodeLine{00964\ \ \ \ \ cv::Mat\ image2;}
\DoxyCodeLine{00965\ \ \ \ \ NPY\_TYPES\ npy\_type\ =\ NPY\_UINT8;}
\DoxyCodeLine{00966\ \ \ \ \ \textcolor{keywordflow}{switch}\ (image.type()\ \&\ CV\_MAT\_DEPTH\_MASK)\ \{}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{case}\ CV\_8U:}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ image2\ =\ image;}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00970\ \ \ \ \ \textcolor{keywordflow}{case}\ CV\_32F:}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ image2\ =\ image;}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \ \ npy\_type\ =\ NPY\_FLOAT;}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00974\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ image.convertTo(image2,\ CV\_MAKETYPE(CV\_8U,\ image.channels()));}
\DoxyCodeLine{00976\ \ \ \ \ \}}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ \ \ \textcolor{comment}{//\ If\ color\ image,\ convert\ from\ BGR\ to\ RGB}}
\DoxyCodeLine{00979\ \ \ \ \ \textcolor{keywordflow}{switch}\ (image2.channels())\ \{}
\DoxyCodeLine{00980\ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ cv::cvtColor(image2,\ image2,\ CV\_BGR2RGB);}
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00983\ \ \ \ \ \textcolor{keywordflow}{case}\ 4:}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ cv::cvtColor(image2,\ image2,\ CV\_BGRA2RGBA);}
\DoxyCodeLine{00985\ \ \ \ \ \}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \ \ \ \ detail::imshow(image2.data,\ npy\_type,\ image2.rows,\ image2.cols,\ image2.channels(),\ keywords);}
\DoxyCodeLine{00988\ \}}
\DoxyCodeLine{00989\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WITH\_OPENCV}}
\DoxyCodeLine{00990\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WITHOUT\_NUMPY}}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{00993\ \textcolor{keywordtype}{bool}\ scatter(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ s=1.0,\ \textcolor{comment}{//\ The\ marker\ size\ in\ points**2}}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{00997\ \{}
\DoxyCodeLine{00998\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{00999\ }
\DoxyCodeLine{01000\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01001\ }
\DoxyCodeLine{01002\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01003\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01004\ }
\DoxyCodeLine{01005\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01006\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}s"{}},\ PyLong\_FromLong(s));}
\DoxyCodeLine{01007\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ :\ keywords)}
\DoxyCodeLine{01008\ \ \ \ \ \{}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it.first.c\_str(),\ PyString\_FromString(it.second.c\_str()));}
\DoxyCodeLine{01010\ \ \ \ \ \}}
\DoxyCodeLine{01011\ }
\DoxyCodeLine{01012\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01013\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01014\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01015\ }
\DoxyCodeLine{01016\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_scatter,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01017\ }
\DoxyCodeLine{01018\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01019\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01020\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01021\ }
\DoxyCodeLine{01022\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01023\ \}}
\DoxyCodeLine{01024\ }
\DoxyCodeLine{01025\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY,\ \textcolor{keyword}{typename}\ NumericColors>}
\DoxyCodeLine{01026\ \ \ \ \ \textcolor{keywordtype}{bool}\ scatter\_colored(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericColors>\&\ colors,}
\DoxyCodeLine{01029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ s=1.0,\ \textcolor{comment}{//\ The\ marker\ size\ in\ points**2}}
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{01031\ \ \ \ \ \{}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ PyObject*\ colors\_array\ =\ detail::get\_array(colors);}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}s"{}},\ PyLong\_FromLong(s));}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}c"{}},\ colors\_array);}
\DoxyCodeLine{01043\ }
\DoxyCodeLine{01044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ :\ keywords)}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it.first.c\_str(),\ PyString\_FromString(it.second.c\_str()));}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01048\ }
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01051\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_scatter,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01054\ }
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01058\ }
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01060\ \ \ \ \ \}}
\DoxyCodeLine{01061\ \ \ \ \ }
\DoxyCodeLine{01062\ }
\DoxyCodeLine{01063\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY,\ \textcolor{keyword}{typename}\ NumericZ>}
\DoxyCodeLine{01064\ \textcolor{keywordtype}{bool}\ scatter(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericZ>\&\ z,}
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//const\ double\ s=1.0,\ //\ The\ marker\ size\ in\ points**2}}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\},}
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ fig\_number=0)\ \{}
\DoxyCodeLine{01070\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01071\ }
\DoxyCodeLine{01072\ \ \ \textcolor{comment}{//\ Same\ as\ with\ plot\_surface:\ We\ lazily\ load\ the\ modules\ here\ the\ first\ time\ }}
\DoxyCodeLine{01073\ \ \ \textcolor{comment}{//\ this\ function\ is\ called\ because\ I'm\ not\ sure\ that\ we\ can\ assume\ "{}matplotlib\ }}
\DoxyCodeLine{01074\ \ \ \textcolor{comment}{//\ installed"{}\ implies\ "{}mpl\_toolkits\ installed"{}\ on\ all\ platforms,\ and\ we\ don't\ }}
\DoxyCodeLine{01075\ \ \ \textcolor{comment}{//\ want\ to\ require\ it\ for\ people\ who\ don't\ need\ 3d\ plots.}}
\DoxyCodeLine{01076\ \ \ \textcolor{keyword}{static}\ PyObject\ *mpl\_toolkitsmod\ =\ \textcolor{keyword}{nullptr},\ *axis3dmod\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01077\ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{}
\DoxyCodeLine{01078\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01079\ }
\DoxyCodeLine{01080\ \ \ \ \ PyObject*\ mpl\_toolkits\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits"{}});}
\DoxyCodeLine{01081\ \ \ \ \ PyObject*\ axis3d\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits.mplot3d"{}});}
\DoxyCodeLine{01082\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkits\ ||\ !axis3d)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});\ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ \ \ mpl\_toolkitsmod\ =\ PyImport\_Import(mpl\_toolkits);}
\DoxyCodeLine{01085\ \ \ \ \ Py\_DECREF(mpl\_toolkits);}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits!"{}});\ \}}
\DoxyCodeLine{01087\ }
\DoxyCodeLine{01088\ \ \ \ \ axis3dmod\ =\ PyImport\_Import(axis3d);}
\DoxyCodeLine{01089\ \ \ \ \ Py\_DECREF(axis3d);}
\DoxyCodeLine{01090\ \ \ \ \ \textcolor{keywordflow}{if}\ (!axis3dmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits.mplot3d!"{}});\ \}}
\DoxyCodeLine{01091\ \ \ \}}
\DoxyCodeLine{01092\ }
\DoxyCodeLine{01093\ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01094\ \ \ assert(y.size()\ ==\ z.size());}
\DoxyCodeLine{01095\ }
\DoxyCodeLine{01096\ \ \ PyObject\ *xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01097\ \ \ PyObject\ *yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01098\ \ \ PyObject\ *zarray\ =\ detail::get\_array(z);}
\DoxyCodeLine{01099\ }
\DoxyCodeLine{01100\ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{01101\ \ \ PyObject\ *args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01102\ \ \ PyTuple\_SetItem(args,\ 0,\ xarray);}
\DoxyCodeLine{01103\ \ \ PyTuple\_SetItem(args,\ 1,\ yarray);}
\DoxyCodeLine{01104\ \ \ PyTuple\_SetItem(args,\ 2,\ zarray);}
\DoxyCodeLine{01105\ }
\DoxyCodeLine{01106\ \ \ \textcolor{comment}{//\ Build\ up\ the\ kw\ args.}}
\DoxyCodeLine{01107\ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01108\ }
\DoxyCodeLine{01109\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{01111\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01113\ \ \ \}}
\DoxyCodeLine{01114\ \ \ PyObject\ *fig\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01115\ \ \ PyObject*\ fig\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01116\ \ \ PyTuple\_SetItem(fig\_args,\ 0,\ PyLong\_FromLong(fig\_number));}
\DoxyCodeLine{01117\ \ \ PyObject\ *fig\_exists\ =}
\DoxyCodeLine{01118\ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_fignum\_exists,\ fig\_args);}
\DoxyCodeLine{01119\ \ \ \textcolor{keywordflow}{if}\ (!PyObject\_IsTrue(fig\_exists))\ \{}
\DoxyCodeLine{01120\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{01121\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{01122\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01123\ \ \ \ \ fig\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{01124\ \ \ \ \ \ \ fig\_args);}
\DoxyCodeLine{01125\ \ \ \}}
\DoxyCodeLine{01126\ \ \ Py\_DECREF(fig\_exists);}
\DoxyCodeLine{01127\ \ \ \textcolor{keywordflow}{if}\ (!fig)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure()\ failed."{}});}
\DoxyCodeLine{01128\ }
\DoxyCodeLine{01129\ \ \ PyObject\ *gca\_kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01130\ \ \ PyDict\_SetItemString(gca\_kwargs,\ \textcolor{stringliteral}{"{}projection"{}},\ PyString\_FromString(\textcolor{stringliteral}{"{}3d"{}}));}
\DoxyCodeLine{01131\ }
\DoxyCodeLine{01132\ \ \ PyObject\ *gca\ =\ PyObject\_GetAttrString(fig,\ \textcolor{stringliteral}{"{}gca"{}});}
\DoxyCodeLine{01133\ \ \ \textcolor{keywordflow}{if}\ (!gca)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ gca"{}});}
\DoxyCodeLine{01134\ \ \ Py\_INCREF(gca);}
\DoxyCodeLine{01135\ \ \ PyObject\ *axis\ =\ PyObject\_Call(}
\DoxyCodeLine{01136\ \ \ \ \ \ \ gca,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ gca\_kwargs);}
\DoxyCodeLine{01137\ }
\DoxyCodeLine{01138\ \ \ \textcolor{keywordflow}{if}\ (!axis)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ axis"{}});}
\DoxyCodeLine{01139\ \ \ Py\_INCREF(axis);}
\DoxyCodeLine{01140\ }
\DoxyCodeLine{01141\ \ \ Py\_DECREF(gca);}
\DoxyCodeLine{01142\ \ \ Py\_DECREF(gca\_kwargs);}
\DoxyCodeLine{01143\ }
\DoxyCodeLine{01144\ \ \ PyObject\ *plot3\ =\ PyObject\_GetAttrString(axis,\ \textcolor{stringliteral}{"{}scatter"{}});}
\DoxyCodeLine{01145\ \ \ \textcolor{keywordflow}{if}\ (!plot3)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ 3D\ line\ plot"{}});}
\DoxyCodeLine{01146\ \ \ Py\_INCREF(plot3);}
\DoxyCodeLine{01147\ \ \ PyObject\ *res\ =\ PyObject\_Call(plot3,\ args,\ kwargs);}
\DoxyCodeLine{01148\ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Failed\ 3D\ line\ plot"{}});}
\DoxyCodeLine{01149\ \ \ Py\_DECREF(plot3);}
\DoxyCodeLine{01150\ }
\DoxyCodeLine{01151\ \ \ Py\_DECREF(axis);}
\DoxyCodeLine{01152\ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01153\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01154\ \ \ Py\_DECREF(fig);}
\DoxyCodeLine{01155\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01156\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01157\ }
\DoxyCodeLine{01158\ \}}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01161\ \textcolor{keywordtype}{bool}\ boxplot(\textcolor{keyword}{const}\ std::vector<std::vector<Numeric>>\&\ data,}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::string>\&\ labels\ =\ \{\},}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{01164\ \{}
\DoxyCodeLine{01165\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01166\ }
\DoxyCodeLine{01167\ \ \ \ \ PyObject*\ listlist\ =\ detail::get\_listlist(data);}
\DoxyCodeLine{01168\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01169\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ listlist);}
\DoxyCodeLine{01170\ }
\DoxyCodeLine{01171\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01172\ }
\DoxyCodeLine{01173\ \ \ \ \ \textcolor{comment}{//\ kwargs\ needs\ the\ labels,\ if\ there\ are\ (the\ correct\ number\ of)\ labels}}
\DoxyCodeLine{01174\ \ \ \ \ \textcolor{keywordflow}{if}\ (!labels.empty()\ \&\&\ labels.size()\ ==\ data.size())\ \{}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}labels"{}},\ detail::get\_array(labels));}
\DoxyCodeLine{01176\ \ \ \ \ \}}
\DoxyCodeLine{01177\ }
\DoxyCodeLine{01178\ \ \ \ \ \textcolor{comment}{//\ take\ care\ of\ the\ remaining\ keywords}}
\DoxyCodeLine{01179\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ :\ keywords)}
\DoxyCodeLine{01180\ \ \ \ \ \{}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it.first.c\_str(),\ PyString\_FromString(it.second.c\_str()));}
\DoxyCodeLine{01182\ \ \ \ \ \}}
\DoxyCodeLine{01183\ }
\DoxyCodeLine{01184\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_boxplot,\ args,\ kwargs);}
\DoxyCodeLine{01185\ }
\DoxyCodeLine{01186\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01187\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01188\ }
\DoxyCodeLine{01189\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01190\ }
\DoxyCodeLine{01191\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01192\ \}}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01195\ \textcolor{keywordtype}{bool}\ boxplot(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ data,}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{01197\ \{}
\DoxyCodeLine{01198\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \ \ \ \ PyObject*\ vector\ =\ detail::get\_array(data);}
\DoxyCodeLine{01201\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01202\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ vector);}
\DoxyCodeLine{01203\ }
\DoxyCodeLine{01204\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01205\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ :\ keywords)}
\DoxyCodeLine{01206\ \ \ \ \ \{}
\DoxyCodeLine{01207\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it.first.c\_str(),\ PyString\_FromString(it.second.c\_str()));}
\DoxyCodeLine{01208\ \ \ \ \ \}}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_boxplot,\ args,\ kwargs);}
\DoxyCodeLine{01211\ }
\DoxyCodeLine{01212\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01213\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01215\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01216\ }
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01218\ \}}
\DoxyCodeLine{01219\ }
\DoxyCodeLine{01220\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01221\ \textcolor{keywordtype}{bool}\ bar(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x,}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y,}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \ std::string\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{"{}black"{}},}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \ std::string\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ls\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{"{}-\/"{}},}
\DoxyCodeLine{01225\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lw\ \ \ \ \ \ \ =\ 1.0,}
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{01227\ \{}
\DoxyCodeLine{01228\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01229\ }
\DoxyCodeLine{01230\ \ \ PyObject\ *\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01231\ \ \ PyObject\ *\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01232\ }
\DoxyCodeLine{01233\ \ \ PyObject\ *\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01234\ }
\DoxyCodeLine{01235\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}ec"{}},\ PyString\_FromString(ec.c\_str()));}
\DoxyCodeLine{01236\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}ls"{}},\ PyString\_FromString(ls.c\_str()));}
\DoxyCodeLine{01237\ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}lw"{}},\ PyFloat\_FromDouble(lw));}
\DoxyCodeLine{01238\ }
\DoxyCodeLine{01239\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \ keywords.begin();}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ it\ !=\ keywords.end();}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ ++it)\ \{}
\DoxyCodeLine{01243\ \ \ \ \ PyDict\_SetItemString(}
\DoxyCodeLine{01244\ \ \ \ \ \ \ kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01245\ \ \ \}}
\DoxyCodeLine{01246\ }
\DoxyCodeLine{01247\ \ \ PyObject\ *\ plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01248\ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01249\ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01250\ }
\DoxyCodeLine{01251\ \ \ PyObject\ *\ res\ =\ PyObject\_Call(}
\DoxyCodeLine{01252\ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_bar,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01253\ }
\DoxyCodeLine{01254\ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01255\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01256\ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01259\ \}}
\DoxyCodeLine{01260\ }
\DoxyCodeLine{01261\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01262\ \textcolor{keywordtype}{bool}\ bar(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y,}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \ std::string\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{"{}black"{}},}
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \ std::string\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ls\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{"{}-\/"{}},}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lw\ \ \ \ \ \ \ =\ 1.0,}
\DoxyCodeLine{01266\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&\ keywords\ =\ \{\})}
\DoxyCodeLine{01267\ \{}
\DoxyCodeLine{01268\ \ \ \textcolor{keyword}{using\ }T\ =\ \textcolor{keyword}{typename}\ std::remove\_reference<\textcolor{keyword}{decltype}(y)>::type::value\_type;}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01271\ }
\DoxyCodeLine{01272\ \ \ std::vector<T>\ x;}
\DoxyCodeLine{01273\ \ \ \textcolor{keywordflow}{for}\ (std::size\_t\ i\ =\ 0;\ i\ <\ y.size();\ i++)\ \{\ x.push\_back(i);\ \}}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \textcolor{keywordflow}{return}\ bar(x,\ y,\ ec,\ ls,\ lw,\ keywords);}
\DoxyCodeLine{01276\ \}}
\DoxyCodeLine{01277\ }
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01280\ \textcolor{keywordtype}{bool}\ barh(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\ \&y,\ std::string\ ec\ =\ \textcolor{stringliteral}{"{}black"{}},\ std::string\ ls\ =\ \textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{keywordtype}{double}\ lw\ =\ 1.0,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\ \})\ \{}
\DoxyCodeLine{01281\ \ \ \ \ PyObject\ *xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01282\ \ \ \ \ PyObject\ *yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01283\ }
\DoxyCodeLine{01284\ \ \ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01285\ }
\DoxyCodeLine{01286\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}ec"{}},\ PyString\_FromString(ec.c\_str()));}
\DoxyCodeLine{01287\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}ls"{}},\ PyString\_FromString(ls.c\_str()));}
\DoxyCodeLine{01288\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}lw"{}},\ PyFloat\_FromDouble(lw));}
\DoxyCodeLine{01289\ }
\DoxyCodeLine{01290\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{01291\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01292\ \ \ \ \ \}}
\DoxyCodeLine{01293\ }
\DoxyCodeLine{01294\ \ \ \ \ PyObject\ *plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01295\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01296\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01297\ }
\DoxyCodeLine{01298\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_barh,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01299\ }
\DoxyCodeLine{01300\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01301\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01302\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01303\ }
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01305\ \}}
\DoxyCodeLine{01306\ }
\DoxyCodeLine{01307\ }
\DoxyCodeLine{01308\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ subplots\_adjust(\textcolor{keyword}{const}\ std::map<std::string,\ double>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{01309\ \{}
\DoxyCodeLine{01310\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01311\ }
\DoxyCodeLine{01312\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01313\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ double>::const\_iterator\ it\ =}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \ \ \ \ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PyFloat\_FromDouble(it-\/>second));}
\DoxyCodeLine{01317\ \ \ \ \ \}}
\DoxyCodeLine{01318\ }
\DoxyCodeLine{01319\ }
\DoxyCodeLine{01320\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(0);}
\DoxyCodeLine{01321\ }
\DoxyCodeLine{01322\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_subplots\_adjust,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01325\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01326\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01327\ }
\DoxyCodeLine{01328\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01329\ \}}
\DoxyCodeLine{01330\ }
\DoxyCodeLine{01331\ \textcolor{keyword}{template}<\ \textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01332\ \textcolor{keywordtype}{bool}\ named\_hist(std::string\ label,\textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keywordtype}{long}\ bins=10,\ std::string\ color=\textcolor{stringliteral}{"{}b"{}},\ \textcolor{keywordtype}{double}\ alpha=1.0)}
\DoxyCodeLine{01333\ \{}
\DoxyCodeLine{01334\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01335\ }
\DoxyCodeLine{01336\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01337\ }
\DoxyCodeLine{01338\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01339\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(label.c\_str()));}
\DoxyCodeLine{01340\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}bins"{}},\ PyLong\_FromLong(bins));}
\DoxyCodeLine{01341\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}color"{}},\ PyString\_FromString(color.c\_str()));}
\DoxyCodeLine{01342\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}alpha"{}},\ PyFloat\_FromDouble(alpha));}
\DoxyCodeLine{01343\ }
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01346\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ yarray);}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_hist,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01351\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01352\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01355\ \}}
\DoxyCodeLine{01356\ }
\DoxyCodeLine{01357\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01358\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01359\ \{}
\DoxyCodeLine{01360\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01361\ }
\DoxyCodeLine{01362\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01365\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(s.c\_str());}
\DoxyCodeLine{01368\ }
\DoxyCodeLine{01369\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01370\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01371\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01372\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01373\ }
\DoxyCodeLine{01374\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_plot,\ plot\_args);}
\DoxyCodeLine{01375\ }
\DoxyCodeLine{01376\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01377\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01378\ }
\DoxyCodeLine{01379\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01380\ \}}
\DoxyCodeLine{01381\ }
\DoxyCodeLine{01382\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY,\ \textcolor{keyword}{typename}\ NumericZ>}
\DoxyCodeLine{01383\ \textcolor{keywordtype}{bool}\ contour(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NumericZ>\&\ z,}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})\ \{}
\DoxyCodeLine{01386\ \ \ \ \ assert(x.size()\ ==\ y.size()\ \&\&\ x.size()\ ==\ z.size());}
\DoxyCodeLine{01387\ }
\DoxyCodeLine{01388\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01389\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01390\ \ \ \ \ PyObject*\ zarray\ =\ detail::get\_array(z);}
\DoxyCodeLine{01391\ }
\DoxyCodeLine{01392\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01393\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01394\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01395\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ zarray);}
\DoxyCodeLine{01396\ }
\DoxyCodeLine{01397\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{01398\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01399\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01402\ \ \ \ \ \}}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \ \ PyObject*\ res\ =}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_contour,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01407\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01408\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01409\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01411\ }
\DoxyCodeLine{01412\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01413\ \}}
\DoxyCodeLine{01414\ }
\DoxyCodeLine{01415\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY,\ \textcolor{keyword}{typename}\ NumericU,\ \textcolor{keyword}{typename}\ NumericW>}
\DoxyCodeLine{01416\ \textcolor{keywordtype}{bool}\ quiver(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::vector<NumericU>\&\ u,\ \textcolor{keyword}{const}\ std::vector<NumericW>\&\ w,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{01417\ \{}
\DoxyCodeLine{01418\ \ \ \ \ assert(x.size()\ ==\ y.size()\ \&\&\ x.size()\ ==\ u.size()\ \&\&\ u.size()\ ==\ w.size());}
\DoxyCodeLine{01419\ }
\DoxyCodeLine{01420\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01421\ }
\DoxyCodeLine{01422\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01423\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01424\ \ \ \ \ PyObject*\ uarray\ =\ detail::get\_array(u);}
\DoxyCodeLine{01425\ \ \ \ \ PyObject*\ warray\ =\ detail::get\_array(w);}
\DoxyCodeLine{01426\ }
\DoxyCodeLine{01427\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(4);}
\DoxyCodeLine{01428\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01429\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01430\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ uarray);}
\DoxyCodeLine{01431\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 3,\ warray);}
\DoxyCodeLine{01432\ }
\DoxyCodeLine{01433\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{01434\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01435\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{01436\ \ \ \ \ \{}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01438\ \ \ \ \ \}}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_quiver,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01442\ }
\DoxyCodeLine{01443\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01444\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01445\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01449\ \}}
\DoxyCodeLine{01450\ }
\DoxyCodeLine{01451\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY,\ \textcolor{keyword}{typename}\ NumericZ,\ \textcolor{keyword}{typename}\ NumericU,\ \textcolor{keyword}{typename}\ NumericW,\ \textcolor{keyword}{typename}\ NumericV>}
\DoxyCodeLine{01452\ \textcolor{keywordtype}{bool}\ quiver(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::vector<NumericZ>\&\ z,\ \textcolor{keyword}{const}\ std::vector<NumericU>\&\ u,\ \textcolor{keyword}{const}\ std::vector<NumericW>\&\ w,\ \textcolor{keyword}{const}\ std::vector<NumericV>\&\ v,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{01453\ \{}
\DoxyCodeLine{01454\ \ \ \textcolor{comment}{//set\ up\ 3d\ axes\ stuff}}
\DoxyCodeLine{01455\ \ \ \textcolor{keyword}{static}\ PyObject\ *mpl\_toolkitsmod\ =\ \textcolor{keyword}{nullptr},\ *axis3dmod\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01456\ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{}
\DoxyCodeLine{01457\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01458\ }
\DoxyCodeLine{01459\ \ \ \ \ PyObject*\ mpl\_toolkits\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits"{}});}
\DoxyCodeLine{01460\ \ \ \ \ PyObject*\ axis3d\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits.mplot3d"{}});}
\DoxyCodeLine{01461\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkits\ ||\ !axis3d)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});\ \}}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \ \ \ \ mpl\_toolkitsmod\ =\ PyImport\_Import(mpl\_toolkits);}
\DoxyCodeLine{01464\ \ \ \ \ Py\_DECREF(mpl\_toolkits);}
\DoxyCodeLine{01465\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits!"{}});\ \}}
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ axis3dmod\ =\ PyImport\_Import(axis3d);}
\DoxyCodeLine{01468\ \ \ \ \ Py\_DECREF(axis3d);}
\DoxyCodeLine{01469\ \ \ \ \ \textcolor{keywordflow}{if}\ (!axis3dmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits.mplot3d!"{}});\ \}}
\DoxyCodeLine{01470\ \ \ \}}
\DoxyCodeLine{01471\ \ \ }
\DoxyCodeLine{01472\ \ \ \textcolor{comment}{//assert\ sizes\ match\ up}}
\DoxyCodeLine{01473\ \ \ assert(x.size()\ ==\ y.size()\ \&\&\ x.size()\ ==\ u.size()\ \&\&\ u.size()\ ==\ w.size()\ \&\&\ x.size()\ ==\ z.size()\ \&\&\ x.size()\ ==\ v.size()\ \&\&\ u.size()\ ==\ v.size());}
\DoxyCodeLine{01474\ }
\DoxyCodeLine{01475\ \ \ \textcolor{comment}{//set\ up\ parameters}}
\DoxyCodeLine{01476\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01477\ }
\DoxyCodeLine{01478\ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01479\ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01480\ \ \ PyObject*\ zarray\ =\ detail::get\_array(z);}
\DoxyCodeLine{01481\ \ \ PyObject*\ uarray\ =\ detail::get\_array(u);}
\DoxyCodeLine{01482\ \ \ PyObject*\ warray\ =\ detail::get\_array(w);}
\DoxyCodeLine{01483\ \ \ PyObject*\ varray\ =\ detail::get\_array(v);}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(6);}
\DoxyCodeLine{01486\ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01487\ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01488\ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ zarray);}
\DoxyCodeLine{01489\ \ \ PyTuple\_SetItem(plot\_args,\ 3,\ uarray);}
\DoxyCodeLine{01490\ \ \ PyTuple\_SetItem(plot\_args,\ 4,\ warray);}
\DoxyCodeLine{01491\ \ \ PyTuple\_SetItem(plot\_args,\ 5,\ varray);}
\DoxyCodeLine{01492\ }
\DoxyCodeLine{01493\ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{01494\ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01495\ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{01496\ \ \ \{}
\DoxyCodeLine{01497\ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01498\ \ \ \}}
\DoxyCodeLine{01499\ \ \ \ \ }
\DoxyCodeLine{01500\ \ \ \textcolor{comment}{//get\ figure\ gca\ to\ enable\ 3d\ projection}}
\DoxyCodeLine{01501\ \ \ PyObject\ *fig\ =}
\DoxyCodeLine{01502\ \ \ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{01504\ \ \ \textcolor{keywordflow}{if}\ (!fig)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure()\ failed."{}});}
\DoxyCodeLine{01505\ }
\DoxyCodeLine{01506\ \ \ PyObject\ *gca\_kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01507\ \ \ PyDict\_SetItemString(gca\_kwargs,\ \textcolor{stringliteral}{"{}projection"{}},\ PyString\_FromString(\textcolor{stringliteral}{"{}3d"{}}));}
\DoxyCodeLine{01508\ }
\DoxyCodeLine{01509\ \ \ PyObject\ *gca\ =\ PyObject\_GetAttrString(fig,\ \textcolor{stringliteral}{"{}gca"{}});}
\DoxyCodeLine{01510\ \ \ \textcolor{keywordflow}{if}\ (!gca)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ gca"{}});}
\DoxyCodeLine{01511\ \ \ Py\_INCREF(gca);}
\DoxyCodeLine{01512\ \ \ PyObject\ *axis\ =\ PyObject\_Call(}
\DoxyCodeLine{01513\ \ \ \ \ \ \ gca,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ gca\_kwargs);}
\DoxyCodeLine{01514\ }
\DoxyCodeLine{01515\ \ \ \textcolor{keywordflow}{if}\ (!axis)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ axis"{}});}
\DoxyCodeLine{01516\ \ \ Py\_INCREF(axis);}
\DoxyCodeLine{01517\ \ \ Py\_DECREF(gca);}
\DoxyCodeLine{01518\ \ \ Py\_DECREF(gca\_kwargs);}
\DoxyCodeLine{01519\ \ \ }
\DoxyCodeLine{01520\ \ \ \textcolor{comment}{//plot\ our\ boys\ bravely,\ plot\ them\ strongly,\ plot\ them\ with\ a\ wink\ and\ clap}}
\DoxyCodeLine{01521\ \ \ PyObject\ *plot3\ =\ PyObject\_GetAttrString(axis,\ \textcolor{stringliteral}{"{}quiver"{}});}
\DoxyCodeLine{01522\ \ \ \textcolor{keywordflow}{if}\ (!plot3)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}No\ 3D\ line\ plot"{}});}
\DoxyCodeLine{01523\ \ \ Py\_INCREF(plot3);}
\DoxyCodeLine{01524\ \ \ PyObject*\ res\ =\ PyObject\_Call(}
\DoxyCodeLine{01525\ \ \ \ \ \ \ \ \ \ \ plot3,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01526\ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Failed\ 3D\ plot"{}});}
\DoxyCodeLine{01527\ \ \ Py\_DECREF(plot3);}
\DoxyCodeLine{01528\ \ \ Py\_DECREF(axis);}
\DoxyCodeLine{01529\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01530\ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01531\ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{01532\ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01533\ }
\DoxyCodeLine{01534\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01535\ \}}
\DoxyCodeLine{01536\ }
\DoxyCodeLine{01537\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01538\ \textcolor{keywordtype}{bool}\ stem(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01539\ \{}
\DoxyCodeLine{01540\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01541\ }
\DoxyCodeLine{01542\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01543\ }
\DoxyCodeLine{01544\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01545\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01546\ }
\DoxyCodeLine{01547\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(s.c\_str());}
\DoxyCodeLine{01548\ }
\DoxyCodeLine{01549\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01550\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01551\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01552\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01553\ }
\DoxyCodeLine{01554\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_stem,\ plot\_args);}
\DoxyCodeLine{01556\ }
\DoxyCodeLine{01557\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01558\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01560\ }
\DoxyCodeLine{01561\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01562\ \}}
\DoxyCodeLine{01563\ }
\DoxyCodeLine{01564\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01565\ \textcolor{keywordtype}{bool}\ semilogx(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01566\ \{}
\DoxyCodeLine{01567\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01568\ }
\DoxyCodeLine{01569\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01570\ }
\DoxyCodeLine{01571\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01572\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01573\ }
\DoxyCodeLine{01574\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(s.c\_str());}
\DoxyCodeLine{01575\ }
\DoxyCodeLine{01576\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01577\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01578\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01579\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01580\ }
\DoxyCodeLine{01581\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_semilogx,\ plot\_args);}
\DoxyCodeLine{01582\ }
\DoxyCodeLine{01583\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01584\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01585\ }
\DoxyCodeLine{01586\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01587\ \}}
\DoxyCodeLine{01588\ }
\DoxyCodeLine{01589\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01590\ \textcolor{keywordtype}{bool}\ semilogy(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01591\ \{}
\DoxyCodeLine{01592\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01593\ }
\DoxyCodeLine{01594\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01595\ }
\DoxyCodeLine{01596\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01597\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01598\ }
\DoxyCodeLine{01599\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(s.c\_str());}
\DoxyCodeLine{01600\ }
\DoxyCodeLine{01601\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01602\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01603\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01604\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_semilogy,\ plot\_args);}
\DoxyCodeLine{01607\ }
\DoxyCodeLine{01608\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01609\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01612\ \}}
\DoxyCodeLine{01613\ }
\DoxyCodeLine{01614\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01615\ \textcolor{keywordtype}{bool}\ loglog(\textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01616\ \{}
\DoxyCodeLine{01617\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01618\ }
\DoxyCodeLine{01619\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01620\ }
\DoxyCodeLine{01621\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01622\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(s.c\_str());}
\DoxyCodeLine{01625\ }
\DoxyCodeLine{01626\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01627\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01628\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01629\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_loglog,\ plot\_args);}
\DoxyCodeLine{01632\ }
\DoxyCodeLine{01633\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01634\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{01635\ }
\DoxyCodeLine{01636\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01637\ \}}
\DoxyCodeLine{01638\ }
\DoxyCodeLine{01639\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01640\ \textcolor{keywordtype}{bool}\ errorbar(\textcolor{keyword}{const}\ std::vector<NumericX>\ \&x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\ \&y,\ \textcolor{keyword}{const}\ std::vector<NumericX>\ \&yerr,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{01641\ \{}
\DoxyCodeLine{01642\ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{01643\ }
\DoxyCodeLine{01644\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01645\ }
\DoxyCodeLine{01646\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01647\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01648\ \ \ \ \ PyObject*\ yerrarray\ =\ detail::get\_array(yerr);}
\DoxyCodeLine{01649\ }
\DoxyCodeLine{01650\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{01651\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01652\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{01653\ \ \ \ \ \{}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01655\ \ \ \ \ \}}
\DoxyCodeLine{01656\ }
\DoxyCodeLine{01657\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}yerr"{}},\ yerrarray);}
\DoxyCodeLine{01658\ }
\DoxyCodeLine{01659\ \ \ \ \ PyObject\ *plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01660\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01661\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01662\ }
\DoxyCodeLine{01663\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_errorbar,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01664\ }
\DoxyCodeLine{01665\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01666\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01667\ }
\DoxyCodeLine{01668\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)}
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01670\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ errorbar()\ failed."{}});}
\DoxyCodeLine{01672\ }
\DoxyCodeLine{01673\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01674\ \}}
\DoxyCodeLine{01675\ }
\DoxyCodeLine{01676\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01677\ \textcolor{keywordtype}{bool}\ named\_plot(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01678\ \{}
\DoxyCodeLine{01679\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01680\ }
\DoxyCodeLine{01681\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01682\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{01683\ }
\DoxyCodeLine{01684\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01685\ }
\DoxyCodeLine{01686\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01689\ }
\DoxyCodeLine{01690\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ yarray);}
\DoxyCodeLine{01691\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ pystring);}
\DoxyCodeLine{01692\ }
\DoxyCodeLine{01693\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_plot,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01694\ }
\DoxyCodeLine{01695\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01696\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01697\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01698\ }
\DoxyCodeLine{01699\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01700\ \}}
\DoxyCodeLine{01701\ }
\DoxyCodeLine{01702\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01703\ \textcolor{keywordtype}{bool}\ named\_plot(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01704\ \{}
\DoxyCodeLine{01705\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01706\ }
\DoxyCodeLine{01707\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01708\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{01709\ }
\DoxyCodeLine{01710\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01711\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01712\ }
\DoxyCodeLine{01713\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{01714\ }
\DoxyCodeLine{01715\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01716\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01717\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01718\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01719\ }
\DoxyCodeLine{01720\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_plot,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01721\ }
\DoxyCodeLine{01722\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01723\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01724\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01725\ }
\DoxyCodeLine{01726\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01727\ \}}
\DoxyCodeLine{01728\ }
\DoxyCodeLine{01729\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01730\ \textcolor{keywordtype}{bool}\ named\_semilogx(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01731\ \{}
\DoxyCodeLine{01732\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01733\ }
\DoxyCodeLine{01734\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01735\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{01736\ }
\DoxyCodeLine{01737\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01738\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01739\ }
\DoxyCodeLine{01740\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{01741\ }
\DoxyCodeLine{01742\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01743\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01744\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01745\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01746\ }
\DoxyCodeLine{01747\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_semilogx,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01748\ }
\DoxyCodeLine{01749\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01750\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01751\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01752\ }
\DoxyCodeLine{01753\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01754\ \}}
\DoxyCodeLine{01755\ }
\DoxyCodeLine{01756\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01757\ \textcolor{keywordtype}{bool}\ named\_semilogy(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01758\ \{}
\DoxyCodeLine{01759\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01760\ }
\DoxyCodeLine{01761\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01762\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{01763\ }
\DoxyCodeLine{01764\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01765\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01766\ }
\DoxyCodeLine{01767\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{01768\ }
\DoxyCodeLine{01769\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01770\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01771\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01772\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01773\ }
\DoxyCodeLine{01774\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_semilogy,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01775\ }
\DoxyCodeLine{01776\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01777\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01778\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01779\ }
\DoxyCodeLine{01780\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01781\ \}}
\DoxyCodeLine{01782\ }
\DoxyCodeLine{01783\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NumericX,\ \textcolor{keyword}{typename}\ NumericY>}
\DoxyCodeLine{01784\ \textcolor{keywordtype}{bool}\ named\_loglog(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<NumericX>\&\ x,\ \textcolor{keyword}{const}\ std::vector<NumericY>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01785\ \{}
\DoxyCodeLine{01786\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01788\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01789\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{01790\ }
\DoxyCodeLine{01791\ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{01792\ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{01793\ }
\DoxyCodeLine{01794\ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{01795\ }
\DoxyCodeLine{01796\ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01797\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{01798\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{01799\ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{01800\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_loglog,\ plot\_args,\ kwargs);}
\DoxyCodeLine{01801\ }
\DoxyCodeLine{01802\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01803\ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{01804\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{01805\ }
\DoxyCodeLine{01806\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{01807\ \}}
\DoxyCodeLine{01808\ }
\DoxyCodeLine{01809\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01810\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01811\ \{}
\DoxyCodeLine{01812\ \ \ \ \ std::vector<Numeric>\ x(y.size());}
\DoxyCodeLine{01813\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i=0;\ i<x.size();\ ++i)\ x.at(i)\ =\ i;}
\DoxyCodeLine{01814\ \ \ \ \ \textcolor{keywordflow}{return}\ plot(x,y,format);}
\DoxyCodeLine{01815\ \}}
\DoxyCodeLine{01816\ }
\DoxyCodeLine{01817\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01818\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{01819\ \{}
\DoxyCodeLine{01820\ \ \ \ \ std::vector<Numeric>\ x(y.size());}
\DoxyCodeLine{01821\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i=0;\ i<x.size();\ ++i)\ x.at(i)\ =\ i;}
\DoxyCodeLine{01822\ \ \ \ \ \textcolor{keywordflow}{return}\ plot(x,y,keywords);}
\DoxyCodeLine{01823\ \}}
\DoxyCodeLine{01824\ }
\DoxyCodeLine{01825\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01826\ \textcolor{keywordtype}{bool}\ stem(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01827\ \{}
\DoxyCodeLine{01828\ \ \ \ \ std::vector<Numeric>\ x(y.size());}
\DoxyCodeLine{01829\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ x.size();\ ++i)\ x.at(i)\ =\ i;}
\DoxyCodeLine{01830\ \ \ \ \ \textcolor{keywordflow}{return}\ stem(x,\ y,\ format);}
\DoxyCodeLine{01831\ \}}
\DoxyCodeLine{01832\ }
\DoxyCodeLine{01833\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01834\ \textcolor{keywordtype}{void}\ text(Numeric\ x,\ Numeric\ y,\ \textcolor{keyword}{const}\ std::string\&\ s\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01835\ \{}
\DoxyCodeLine{01836\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01837\ }
\DoxyCodeLine{01838\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{01839\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(x));}
\DoxyCodeLine{01840\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(y));}
\DoxyCodeLine{01841\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyString\_FromString(s.c\_str()));}
\DoxyCodeLine{01842\ }
\DoxyCodeLine{01843\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_text,\ args);}
\DoxyCodeLine{01844\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ text()\ failed."{}});}
\DoxyCodeLine{01845\ }
\DoxyCodeLine{01846\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01847\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01848\ \}}
\DoxyCodeLine{01849\ }
\DoxyCodeLine{01850\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ colorbar(PyObject*\ mappable\ =\ NULL,\ \textcolor{keyword}{const}\ std::map<std::string,\ float>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{01851\ \{}
\DoxyCodeLine{01852\ \ \ \ \ \textcolor{keywordflow}{if}\ (mappable\ ==\ NULL)}
\DoxyCodeLine{01853\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Must\ call\ colorbar\ with\ PyObject*\ returned\ from\ an\ image,\ contour,\ surface,\ etc."{}});}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01856\ }
\DoxyCodeLine{01857\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01858\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ mappable);}
\DoxyCodeLine{01859\ }
\DoxyCodeLine{01860\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01861\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ float>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{01862\ \ \ \ \ \{}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyFloat\_FromDouble(it-\/>second));}
\DoxyCodeLine{01864\ \ \ \ \ \}}
\DoxyCodeLine{01865\ }
\DoxyCodeLine{01866\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_colorbar,\ args,\ kwargs);}
\DoxyCodeLine{01867\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ colorbar()\ failed."{}});}
\DoxyCodeLine{01868\ }
\DoxyCodeLine{01869\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01870\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01871\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01872\ \}}
\DoxyCodeLine{01873\ }
\DoxyCodeLine{01874\ }
\DoxyCodeLine{01875\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ figure(\textcolor{keywordtype}{long}\ number\ =\ -\/1)}
\DoxyCodeLine{01876\ \{}
\DoxyCodeLine{01877\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01878\ }
\DoxyCodeLine{01879\ \ \ \ \ PyObject\ *res;}
\DoxyCodeLine{01880\ \ \ \ \ \textcolor{keywordflow}{if}\ (number\ ==\ -\/1)}
\DoxyCodeLine{01881\ \ \ \ \ \ \ \ \ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,\ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{01882\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01883\ \ \ \ \ \ \ \ \ assert(number\ >\ 0);}
\DoxyCodeLine{01884\ }
\DoxyCodeLine{01885\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ interpreter\ is\ initialised}}
\DoxyCodeLine{01886\ \ \ \ \ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01887\ }
\DoxyCodeLine{01888\ \ \ \ \ \ \ \ \ PyObject\ *args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01889\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyLong\_FromLong(number));}
\DoxyCodeLine{01890\ \ \ \ \ \ \ \ \ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_figure,\ args);}
\DoxyCodeLine{01891\ \ \ \ \ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01892\ \ \ \ \ \}}
\DoxyCodeLine{01893\ }
\DoxyCodeLine{01894\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure()\ failed."{}});}
\DoxyCodeLine{01895\ }
\DoxyCodeLine{01896\ \ \ \ \ PyObject*\ num\ =\ PyObject\_GetAttrString(res,\ \textcolor{stringliteral}{"{}number"{}});}
\DoxyCodeLine{01897\ \ \ \ \ \textcolor{keywordflow}{if}\ (!num)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Could\ not\ get\ number\ attribute\ of\ figure\ object"{}});}
\DoxyCodeLine{01898\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ figureNumber\ =\ PyLong\_AsLong(num);}
\DoxyCodeLine{01899\ }
\DoxyCodeLine{01900\ \ \ \ \ Py\_DECREF(num);}
\DoxyCodeLine{01901\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01902\ }
\DoxyCodeLine{01903\ \ \ \ \ \textcolor{keywordflow}{return}\ figureNumber;}
\DoxyCodeLine{01904\ \}}
\DoxyCodeLine{01905\ }
\DoxyCodeLine{01906\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ fignum\_exists(\textcolor{keywordtype}{long}\ number)}
\DoxyCodeLine{01907\ \{}
\DoxyCodeLine{01908\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01909\ }
\DoxyCodeLine{01910\ \ \ \ \ PyObject\ *args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01911\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyLong\_FromLong(number));}
\DoxyCodeLine{01912\ \ \ \ \ PyObject\ *res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_fignum\_exists,\ args);}
\DoxyCodeLine{01913\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ fignum\_exists()\ failed."{}});}
\DoxyCodeLine{01914\ }
\DoxyCodeLine{01915\ \ \ \ \ \textcolor{keywordtype}{bool}\ ret\ =\ PyObject\_IsTrue(res);}
\DoxyCodeLine{01916\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01917\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01918\ }
\DoxyCodeLine{01919\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{01920\ \}}
\DoxyCodeLine{01921\ }
\DoxyCodeLine{01922\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ figure\_size(\textcolor{keywordtype}{size\_t}\ w,\ \textcolor{keywordtype}{size\_t}\ h)}
\DoxyCodeLine{01923\ \{}
\DoxyCodeLine{01924\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01925\ }
\DoxyCodeLine{01926\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ dpi\ =\ 100;}
\DoxyCodeLine{01927\ \ \ \ \ PyObject*\ size\ =\ PyTuple\_New(2);}
\DoxyCodeLine{01928\ \ \ \ \ PyTuple\_SetItem(size,\ 0,\ PyFloat\_FromDouble((\textcolor{keywordtype}{double})w\ /\ dpi));}
\DoxyCodeLine{01929\ \ \ \ \ PyTuple\_SetItem(size,\ 1,\ PyFloat\_FromDouble((\textcolor{keywordtype}{double})h\ /\ dpi));}
\DoxyCodeLine{01930\ }
\DoxyCodeLine{01931\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01932\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}figsize"{}},\ size);}
\DoxyCodeLine{01933\ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}dpi"{}},\ PyLong\_FromSize\_t(dpi));}
\DoxyCodeLine{01934\ }
\DoxyCodeLine{01935\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_figure,}
\DoxyCodeLine{01936\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple,\ kwargs);}
\DoxyCodeLine{01937\ }
\DoxyCodeLine{01938\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01939\ }
\DoxyCodeLine{01940\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ figure\_size()\ failed."{}});}
\DoxyCodeLine{01941\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01942\ \}}
\DoxyCodeLine{01943\ }
\DoxyCodeLine{01944\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ legend()}
\DoxyCodeLine{01945\ \{}
\DoxyCodeLine{01946\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01947\ }
\DoxyCodeLine{01948\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_legend,\ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{01949\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ legend()\ failed."{}});}
\DoxyCodeLine{01950\ }
\DoxyCodeLine{01951\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01952\ \}}
\DoxyCodeLine{01953\ }
\DoxyCodeLine{01954\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ legend(\textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{01955\ \{}
\DoxyCodeLine{01956\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01957\ }
\DoxyCodeLine{01958\ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{01959\ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01960\ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{01961\ \ \ \{}
\DoxyCodeLine{01962\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{01963\ \ \ \}}
\DoxyCodeLine{01964\ }
\DoxyCodeLine{01965\ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_legend,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ kwargs);}
\DoxyCodeLine{01966\ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ legend()\ failed."{}});}
\DoxyCodeLine{01967\ }
\DoxyCodeLine{01968\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01969\ \ \ Py\_DECREF(res);}
\DoxyCodeLine{01970\ \}}
\DoxyCodeLine{01971\ }
\DoxyCodeLine{01972\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{01973\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ set\_aspect(Numeric\ ratio)}
\DoxyCodeLine{01974\ \{}
\DoxyCodeLine{01975\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{01976\ }
\DoxyCodeLine{01977\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{01978\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(ratio));}
\DoxyCodeLine{01979\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{01980\ }
\DoxyCodeLine{01981\ \ \ \ \ PyObject\ *ax\ =}
\DoxyCodeLine{01982\ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_gca,}
\DoxyCodeLine{01983\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{01984\ \ \ \ \ \textcolor{keywordflow}{if}\ (!ax)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ gca()\ failed."{}});}
\DoxyCodeLine{01985\ \ \ \ \ Py\_INCREF(ax);}
\DoxyCodeLine{01986\ }
\DoxyCodeLine{01987\ \ \ \ \ PyObject\ *set\_aspect\ =\ PyObject\_GetAttrString(ax,\ \textcolor{stringliteral}{"{}set\_aspect"{}});}
\DoxyCodeLine{01988\ \ \ \ \ \textcolor{keywordflow}{if}\ (!set\_aspect)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Attribute\ set\_aspect\ not\ found."{}});}
\DoxyCodeLine{01989\ \ \ \ \ Py\_INCREF(set\_aspect);}
\DoxyCodeLine{01990\ }
\DoxyCodeLine{01991\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(set\_aspect,\ args,\ kwargs);}
\DoxyCodeLine{01992\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ set\_aspect()\ failed."{}});}
\DoxyCodeLine{01993\ \ \ \ \ Py\_DECREF(set\_aspect);}
\DoxyCodeLine{01994\ }
\DoxyCodeLine{01995\ \ \ \ \ Py\_DECREF(ax);}
\DoxyCodeLine{01996\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{01997\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{01998\ \}}
\DoxyCodeLine{01999\ }
\DoxyCodeLine{02000\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ set\_aspect\_equal()}
\DoxyCodeLine{02001\ \{}
\DoxyCodeLine{02002\ \ \ \ \ \textcolor{comment}{//\ expect\ ratio\ ==\ "{}equal"{}.\ Leaving\ error\ handling\ to\ matplotlib.}}
\DoxyCodeLine{02003\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02004\ }
\DoxyCodeLine{02005\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02006\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyString\_FromString(\textcolor{stringliteral}{"{}equal"{}}));}
\DoxyCodeLine{02007\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02008\ }
\DoxyCodeLine{02009\ \ \ \ \ PyObject\ *ax\ =}
\DoxyCodeLine{02010\ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_gca,}
\DoxyCodeLine{02011\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02012\ \ \ \ \ \textcolor{keywordflow}{if}\ (!ax)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ gca()\ failed."{}});}
\DoxyCodeLine{02013\ \ \ \ \ Py\_INCREF(ax);}
\DoxyCodeLine{02014\ }
\DoxyCodeLine{02015\ \ \ \ \ PyObject\ *set\_aspect\ =\ PyObject\_GetAttrString(ax,\ \textcolor{stringliteral}{"{}set\_aspect"{}});}
\DoxyCodeLine{02016\ \ \ \ \ \textcolor{keywordflow}{if}\ (!set\_aspect)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Attribute\ set\_aspect\ not\ found."{}});}
\DoxyCodeLine{02017\ \ \ \ \ Py\_INCREF(set\_aspect);}
\DoxyCodeLine{02018\ }
\DoxyCodeLine{02019\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(set\_aspect,\ args,\ kwargs);}
\DoxyCodeLine{02020\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ set\_aspect()\ failed."{}});}
\DoxyCodeLine{02021\ \ \ \ \ Py\_DECREF(set\_aspect);}
\DoxyCodeLine{02022\ }
\DoxyCodeLine{02023\ \ \ \ \ Py\_DECREF(ax);}
\DoxyCodeLine{02024\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02025\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02026\ \}}
\DoxyCodeLine{02027\ }
\DoxyCodeLine{02028\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02029\ \textcolor{keywordtype}{void}\ ylim(Numeric\ left,\ Numeric\ right)}
\DoxyCodeLine{02030\ \{}
\DoxyCodeLine{02031\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02032\ }
\DoxyCodeLine{02033\ \ \ \ \ PyObject*\ list\ =\ PyList\_New(2);}
\DoxyCodeLine{02034\ \ \ \ \ PyList\_SetItem(list,\ 0,\ PyFloat\_FromDouble(left));}
\DoxyCodeLine{02035\ \ \ \ \ PyList\_SetItem(list,\ 1,\ PyFloat\_FromDouble(right));}
\DoxyCodeLine{02036\ }
\DoxyCodeLine{02037\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02038\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ list);}
\DoxyCodeLine{02039\ }
\DoxyCodeLine{02040\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_ylim,\ args);}
\DoxyCodeLine{02041\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ ylim()\ failed."{}});}
\DoxyCodeLine{02042\ }
\DoxyCodeLine{02043\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02044\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02045\ \}}
\DoxyCodeLine{02046\ }
\DoxyCodeLine{02047\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02048\ \textcolor{keywordtype}{void}\ xlim(Numeric\ left,\ Numeric\ right)}
\DoxyCodeLine{02049\ \{}
\DoxyCodeLine{02050\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02051\ }
\DoxyCodeLine{02052\ \ \ \ \ PyObject*\ list\ =\ PyList\_New(2);}
\DoxyCodeLine{02053\ \ \ \ \ PyList\_SetItem(list,\ 0,\ PyFloat\_FromDouble(left));}
\DoxyCodeLine{02054\ \ \ \ \ PyList\_SetItem(list,\ 1,\ PyFloat\_FromDouble(right));}
\DoxyCodeLine{02055\ }
\DoxyCodeLine{02056\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02057\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ list);}
\DoxyCodeLine{02058\ }
\DoxyCodeLine{02059\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_xlim,\ args);}
\DoxyCodeLine{02060\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ xlim()\ failed."{}});}
\DoxyCodeLine{02061\ }
\DoxyCodeLine{02062\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02063\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02064\ \}}
\DoxyCodeLine{02065\ }
\DoxyCodeLine{02066\ }
\DoxyCodeLine{02067\ \textcolor{keyword}{inline}\ std::array<double,\ 2>\ xlim()}
\DoxyCodeLine{02068\ \{}
\DoxyCodeLine{02069\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(0);}
\DoxyCodeLine{02070\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_xlim,\ args);}
\DoxyCodeLine{02071\ }
\DoxyCodeLine{02072\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ xlim()\ failed."{}});}
\DoxyCodeLine{02073\ }
\DoxyCodeLine{02074\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02075\ }
\DoxyCodeLine{02076\ \ \ \ \ PyObject*\ left\ =\ PyTuple\_GetItem(res,0);}
\DoxyCodeLine{02077\ \ \ \ \ PyObject*\ right\ =\ PyTuple\_GetItem(res,1);}
\DoxyCodeLine{02078\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\ PyFloat\_AsDouble(left),\ PyFloat\_AsDouble(right)\ \};}
\DoxyCodeLine{02079\ \}}
\DoxyCodeLine{02080\ }
\DoxyCodeLine{02081\ }
\DoxyCodeLine{02082\ \textcolor{keyword}{inline}\ std::array<double,\ 2>\ ylim()}
\DoxyCodeLine{02083\ \{}
\DoxyCodeLine{02084\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(0);}
\DoxyCodeLine{02085\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_ylim,\ args);}
\DoxyCodeLine{02086\ }
\DoxyCodeLine{02087\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ ylim()\ failed."{}});}
\DoxyCodeLine{02088\ }
\DoxyCodeLine{02089\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02090\ }
\DoxyCodeLine{02091\ \ \ \ \ PyObject*\ left\ =\ PyTuple\_GetItem(res,0);}
\DoxyCodeLine{02092\ \ \ \ \ PyObject*\ right\ =\ PyTuple\_GetItem(res,1);}
\DoxyCodeLine{02093\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\ PyFloat\_AsDouble(left),\ PyFloat\_AsDouble(right)\ \};}
\DoxyCodeLine{02094\ \}}
\DoxyCodeLine{02095\ }
\DoxyCodeLine{02096\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02097\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ xticks(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&ticks,\ \textcolor{keyword}{const}\ std::vector<std::string>\ \&labels\ =\ \{\},\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{02098\ \{}
\DoxyCodeLine{02099\ \ \ \ \ assert(labels.size()\ ==\ 0\ ||\ ticks.size()\ ==\ labels.size());}
\DoxyCodeLine{02100\ }
\DoxyCodeLine{02101\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02102\ }
\DoxyCodeLine{02103\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ array}}
\DoxyCodeLine{02104\ \ \ \ \ PyObject*\ ticksarray\ =\ detail::get\_array(ticks);}
\DoxyCodeLine{02105\ }
\DoxyCodeLine{02106\ \ \ \ \ PyObject*\ args;}
\DoxyCodeLine{02107\ \ \ \ \ \textcolor{keywordflow}{if}(labels.size()\ ==\ 0)\ \{}
\DoxyCodeLine{02108\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02109\ \ \ \ \ \ \ \ \ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02110\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ ticksarray);}
\DoxyCodeLine{02111\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02112\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ make\ tuple\ of\ tick\ labels}}
\DoxyCodeLine{02113\ \ \ \ \ \ \ \ \ PyObject*\ labelstuple\ =\ PyTuple\_New(labels.size());}
\DoxyCodeLine{02114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ labels.size();\ i++)}
\DoxyCodeLine{02115\ \ \ \ \ \ \ \ \ \ \ \ \ PyTuple\_SetItem(labelstuple,\ i,\ PyUnicode\_FromString(labels[i].c\_str()));}
\DoxyCodeLine{02116\ }
\DoxyCodeLine{02117\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02118\ \ \ \ \ \ \ \ \ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02119\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ ticksarray);}
\DoxyCodeLine{02120\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ labelstuple);}
\DoxyCodeLine{02121\ \ \ \ \ \}}
\DoxyCodeLine{02122\ }
\DoxyCodeLine{02123\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02124\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02125\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02126\ \ \ \ \ \{}
\DoxyCodeLine{02127\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02128\ \ \ \ \ \}}
\DoxyCodeLine{02129\ }
\DoxyCodeLine{02130\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_xticks,\ args,\ kwargs);}
\DoxyCodeLine{02131\ }
\DoxyCodeLine{02132\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02133\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02134\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ xticks()\ failed"{}});}
\DoxyCodeLine{02135\ }
\DoxyCodeLine{02136\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02137\ \}}
\DoxyCodeLine{02138\ }
\DoxyCodeLine{02139\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02140\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ xticks(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&ticks,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{02141\ \{}
\DoxyCodeLine{02142\ \ \ \ \ xticks(ticks,\ \{\},\ keywords);}
\DoxyCodeLine{02143\ \}}
\DoxyCodeLine{02144\ }
\DoxyCodeLine{02145\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02146\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ yticks(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&ticks,\ \textcolor{keyword}{const}\ std::vector<std::string>\ \&labels\ =\ \{\},\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{02147\ \{}
\DoxyCodeLine{02148\ \ \ \ \ assert(labels.size()\ ==\ 0\ ||\ ticks.size()\ ==\ labels.size());}
\DoxyCodeLine{02149\ }
\DoxyCodeLine{02150\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02151\ }
\DoxyCodeLine{02152\ \ \ \ \ \textcolor{comment}{//\ using\ numpy\ array}}
\DoxyCodeLine{02153\ \ \ \ \ PyObject*\ ticksarray\ =\ detail::get\_array(ticks);}
\DoxyCodeLine{02154\ }
\DoxyCodeLine{02155\ \ \ \ \ PyObject*\ args;}
\DoxyCodeLine{02156\ \ \ \ \ \textcolor{keywordflow}{if}(labels.size()\ ==\ 0)\ \{}
\DoxyCodeLine{02157\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02158\ \ \ \ \ \ \ \ \ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02159\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ ticksarray);}
\DoxyCodeLine{02160\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02161\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ make\ tuple\ of\ tick\ labels}}
\DoxyCodeLine{02162\ \ \ \ \ \ \ \ \ PyObject*\ labelstuple\ =\ PyTuple\_New(labels.size());}
\DoxyCodeLine{02163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ labels.size();\ i++)}
\DoxyCodeLine{02164\ \ \ \ \ \ \ \ \ \ \ \ \ PyTuple\_SetItem(labelstuple,\ i,\ PyUnicode\_FromString(labels[i].c\_str()));}
\DoxyCodeLine{02165\ }
\DoxyCodeLine{02166\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02167\ \ \ \ \ \ \ \ \ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02168\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ ticksarray);}
\DoxyCodeLine{02169\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ labelstuple);}
\DoxyCodeLine{02170\ \ \ \ \ \}}
\DoxyCodeLine{02171\ }
\DoxyCodeLine{02172\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02173\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02174\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02175\ \ \ \ \ \{}
\DoxyCodeLine{02176\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02177\ \ \ \ \ \}}
\DoxyCodeLine{02178\ }
\DoxyCodeLine{02179\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_yticks,\ args,\ kwargs);}
\DoxyCodeLine{02180\ }
\DoxyCodeLine{02181\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02182\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02183\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ yticks()\ failed"{}});}
\DoxyCodeLine{02184\ }
\DoxyCodeLine{02185\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02186\ \}}
\DoxyCodeLine{02187\ }
\DoxyCodeLine{02188\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02189\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ yticks(\textcolor{keyword}{const}\ std::vector<Numeric>\ \&ticks,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)}
\DoxyCodeLine{02190\ \{}
\DoxyCodeLine{02191\ \ \ \ \ yticks(ticks,\ \{\},\ keywords);}
\DoxyCodeLine{02192\ \}}
\DoxyCodeLine{02193\ }
\DoxyCodeLine{02194\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ margins(Numeric\ margin)}
\DoxyCodeLine{02195\ \{}
\DoxyCodeLine{02196\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02197\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02198\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(margin));}
\DoxyCodeLine{02199\ }
\DoxyCodeLine{02200\ \ \ \ \ PyObject*\ res\ =}
\DoxyCodeLine{02201\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_margins,\ args);}
\DoxyCodeLine{02202\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{02203\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ margins()\ failed."{}});}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02206\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02207\ \}}
\DoxyCodeLine{02208\ }
\DoxyCodeLine{02209\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Numeric>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ margins(Numeric\ margin\_x,\ Numeric\ margin\_y)}
\DoxyCodeLine{02210\ \{}
\DoxyCodeLine{02211\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02212\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02213\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(margin\_x));}
\DoxyCodeLine{02214\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(margin\_y));}
\DoxyCodeLine{02215\ }
\DoxyCodeLine{02216\ \ \ \ \ PyObject*\ res\ =}
\DoxyCodeLine{02217\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_margins,\ args);}
\DoxyCodeLine{02218\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{02219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ margins()\ failed."{}});}
\DoxyCodeLine{02220\ }
\DoxyCodeLine{02221\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02222\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02223\ \}}
\DoxyCodeLine{02224\ }
\DoxyCodeLine{02225\ }
\DoxyCodeLine{02226\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ tick\_params(\textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords,\ \textcolor{keyword}{const}\ std::string\ axis\ =\ \textcolor{stringliteral}{"{}both"{}})}
\DoxyCodeLine{02227\ \{}
\DoxyCodeLine{02228\ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02229\ }
\DoxyCodeLine{02230\ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02231\ \ \ PyObject*\ args;}
\DoxyCodeLine{02232\ \ \ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02233\ \ \ PyTuple\_SetItem(args,\ 0,\ PyString\_FromString(axis.c\_str()));}
\DoxyCodeLine{02234\ }
\DoxyCodeLine{02235\ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02236\ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02237\ \ \ \textcolor{keywordflow}{for}\ (std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02238\ \ \ \{}
\DoxyCodeLine{02239\ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02240\ \ \ \}}
\DoxyCodeLine{02241\ }
\DoxyCodeLine{02242\ }
\DoxyCodeLine{02243\ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_tick\_params,\ args,\ kwargs);}
\DoxyCodeLine{02244\ }
\DoxyCodeLine{02245\ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02246\ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02247\ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ tick\_params()\ failed"{}});}
\DoxyCodeLine{02248\ }
\DoxyCodeLine{02249\ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02250\ \}}
\DoxyCodeLine{02251\ }
\DoxyCodeLine{02252\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ subplot(\textcolor{keywordtype}{long}\ nrows,\ \textcolor{keywordtype}{long}\ ncols,\ \textcolor{keywordtype}{long}\ plot\_number)}
\DoxyCodeLine{02253\ \{}
\DoxyCodeLine{02254\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02255\ }
\DoxyCodeLine{02256\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02257\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{02258\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(nrows));}
\DoxyCodeLine{02259\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(ncols));}
\DoxyCodeLine{02260\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyFloat\_FromDouble(plot\_number));}
\DoxyCodeLine{02261\ }
\DoxyCodeLine{02262\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_subplot,\ args);}
\DoxyCodeLine{02263\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ subplot()\ failed."{}});}
\DoxyCodeLine{02264\ }
\DoxyCodeLine{02265\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02266\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02267\ \}}
\DoxyCodeLine{02268\ }
\DoxyCodeLine{02269\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ subplot2grid(\textcolor{keywordtype}{long}\ nrows,\ \textcolor{keywordtype}{long}\ ncols,\ \textcolor{keywordtype}{long}\ rowid=0,\ \textcolor{keywordtype}{long}\ colid=0,\ \textcolor{keywordtype}{long}\ rowspan=1,\ \textcolor{keywordtype}{long}\ colspan=1)}
\DoxyCodeLine{02270\ \{}
\DoxyCodeLine{02271\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02272\ }
\DoxyCodeLine{02273\ \ \ \ \ PyObject*\ shape\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02274\ \ \ \ \ PyTuple\_SetItem(shape,\ 0,\ PyLong\_FromLong(nrows));}
\DoxyCodeLine{02275\ \ \ \ \ PyTuple\_SetItem(shape,\ 1,\ PyLong\_FromLong(ncols));}
\DoxyCodeLine{02276\ }
\DoxyCodeLine{02277\ \ \ \ \ PyObject*\ loc\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02278\ \ \ \ \ PyTuple\_SetItem(loc,\ 0,\ PyLong\_FromLong(rowid));}
\DoxyCodeLine{02279\ \ \ \ \ PyTuple\_SetItem(loc,\ 1,\ PyLong\_FromLong(colid));}
\DoxyCodeLine{02280\ }
\DoxyCodeLine{02281\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(4);}
\DoxyCodeLine{02282\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ shape);}
\DoxyCodeLine{02283\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ loc);}
\DoxyCodeLine{02284\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyLong\_FromLong(rowspan));}
\DoxyCodeLine{02285\ \ \ \ \ PyTuple\_SetItem(args,\ 3,\ PyLong\_FromLong(colspan));}
\DoxyCodeLine{02286\ }
\DoxyCodeLine{02287\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_subplot2grid,\ args);}
\DoxyCodeLine{02288\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ subplot2grid()\ failed."{}});}
\DoxyCodeLine{02289\ }
\DoxyCodeLine{02290\ \ \ \ \ Py\_DECREF(shape);}
\DoxyCodeLine{02291\ \ \ \ \ Py\_DECREF(loc);}
\DoxyCodeLine{02292\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02293\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02294\ \}}
\DoxyCodeLine{02295\ }
\DoxyCodeLine{02296\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ title(\textcolor{keyword}{const}\ std::string\ \&titlestr,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{02297\ \{}
\DoxyCodeLine{02298\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02299\ }
\DoxyCodeLine{02300\ \ \ \ \ PyObject*\ pytitlestr\ =\ PyString\_FromString(titlestr.c\_str());}
\DoxyCodeLine{02301\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02302\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pytitlestr);}
\DoxyCodeLine{02303\ }
\DoxyCodeLine{02304\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02305\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02306\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02307\ \ \ \ \ \}}
\DoxyCodeLine{02308\ }
\DoxyCodeLine{02309\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_title,\ args,\ kwargs);}
\DoxyCodeLine{02310\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ title()\ failed."{}});}
\DoxyCodeLine{02311\ }
\DoxyCodeLine{02312\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02313\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02314\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02315\ \}}
\DoxyCodeLine{02316\ }
\DoxyCodeLine{02317\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ suptitle(\textcolor{keyword}{const}\ std::string\ \&suptitlestr,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{02318\ \{}
\DoxyCodeLine{02319\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02320\ }
\DoxyCodeLine{02321\ \ \ \ \ PyObject*\ pysuptitlestr\ =\ PyString\_FromString(suptitlestr.c\_str());}
\DoxyCodeLine{02322\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02323\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pysuptitlestr);}
\DoxyCodeLine{02324\ }
\DoxyCodeLine{02325\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02326\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02327\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02328\ \ \ \ \ \}}
\DoxyCodeLine{02329\ }
\DoxyCodeLine{02330\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_suptitle,\ args,\ kwargs);}
\DoxyCodeLine{02331\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ suptitle()\ failed."{}});}
\DoxyCodeLine{02332\ }
\DoxyCodeLine{02333\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02334\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02335\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02336\ \}}
\DoxyCodeLine{02337\ }
\DoxyCodeLine{02338\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ axis(\textcolor{keyword}{const}\ std::string\ \&axisstr)}
\DoxyCodeLine{02339\ \{}
\DoxyCodeLine{02340\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02341\ }
\DoxyCodeLine{02342\ \ \ \ \ PyObject*\ str\ =\ PyString\_FromString(axisstr.c\_str());}
\DoxyCodeLine{02343\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02344\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ str);}
\DoxyCodeLine{02345\ }
\DoxyCodeLine{02346\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_axis,\ args);}
\DoxyCodeLine{02347\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ title()\ failed."{}});}
\DoxyCodeLine{02348\ }
\DoxyCodeLine{02349\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02350\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02351\ \}}
\DoxyCodeLine{02352\ }
\DoxyCodeLine{02353\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ axhline(\textcolor{keywordtype}{double}\ y,\ \textcolor{keywordtype}{double}\ xmin\ =\ 0.,\ \textcolor{keywordtype}{double}\ xmax\ =\ 1.,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ std::map<std::string,\ std::string>())}
\DoxyCodeLine{02354\ \{}
\DoxyCodeLine{02355\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02356\ }
\DoxyCodeLine{02357\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02358\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{02359\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(y));}
\DoxyCodeLine{02360\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(xmin));}
\DoxyCodeLine{02361\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyFloat\_FromDouble(xmax));}
\DoxyCodeLine{02362\ }
\DoxyCodeLine{02363\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02364\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02365\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02366\ \ \ \ \ \{}
\DoxyCodeLine{02367\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02368\ \ \ \ \ \}}
\DoxyCodeLine{02369\ }
\DoxyCodeLine{02370\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_axhline,\ args,\ kwargs);}
\DoxyCodeLine{02371\ }
\DoxyCodeLine{02372\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02373\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02374\ }
\DoxyCodeLine{02375\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{02376\ \}}
\DoxyCodeLine{02377\ }
\DoxyCodeLine{02378\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ axvline(\textcolor{keywordtype}{double}\ x,\ \textcolor{keywordtype}{double}\ ymin\ =\ 0.,\ \textcolor{keywordtype}{double}\ ymax\ =\ 1.,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ std::map<std::string,\ std::string>())}
\DoxyCodeLine{02379\ \{}
\DoxyCodeLine{02380\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02381\ }
\DoxyCodeLine{02382\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02383\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{02384\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(x));}
\DoxyCodeLine{02385\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(ymin));}
\DoxyCodeLine{02386\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyFloat\_FromDouble(ymax));}
\DoxyCodeLine{02387\ }
\DoxyCodeLine{02388\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02389\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02390\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02391\ \ \ \ \ \{}
\DoxyCodeLine{02392\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02393\ \ \ \ \ \}}
\DoxyCodeLine{02394\ }
\DoxyCodeLine{02395\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_axvline,\ args,\ kwargs);}
\DoxyCodeLine{02396\ }
\DoxyCodeLine{02397\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02398\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02399\ }
\DoxyCodeLine{02400\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{02401\ \}}
\DoxyCodeLine{02402\ }
\DoxyCodeLine{02403\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ axvspan(\textcolor{keywordtype}{double}\ xmin,\ \textcolor{keywordtype}{double}\ xmax,\ \textcolor{keywordtype}{double}\ ymin\ =\ 0.,\ \textcolor{keywordtype}{double}\ ymax\ =\ 1.,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ std::map<std::string,\ std::string>())}
\DoxyCodeLine{02404\ \{}
\DoxyCodeLine{02405\ \ \ \ \ \textcolor{comment}{//\ construct\ positional\ args}}
\DoxyCodeLine{02406\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(4);}
\DoxyCodeLine{02407\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(xmin));}
\DoxyCodeLine{02408\ \ \ \ \ PyTuple\_SetItem(args,\ 1,\ PyFloat\_FromDouble(xmax));}
\DoxyCodeLine{02409\ \ \ \ \ PyTuple\_SetItem(args,\ 2,\ PyFloat\_FromDouble(ymin));}
\DoxyCodeLine{02410\ \ \ \ \ PyTuple\_SetItem(args,\ 3,\ PyFloat\_FromDouble(ymax));}
\DoxyCodeLine{02411\ }
\DoxyCodeLine{02412\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02413\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02414\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02415\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it-\/>first\ ==\ \textcolor{stringliteral}{"{}linewidth"{}}\ ||\ it-\/>first\ ==\ \textcolor{stringliteral}{"{}alpha"{}})\ \{}
\DoxyCodeLine{02416\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{02417\ \ \ \ \ \ \ \ \ \ \ PyFloat\_FromDouble(std::stod(it-\/>second)));}
\DoxyCodeLine{02418\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02419\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),}
\DoxyCodeLine{02420\ \ \ \ \ \ \ \ \ \ \ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02421\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02422\ \ \ \ \ \}}
\DoxyCodeLine{02423\ }
\DoxyCodeLine{02424\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_axvspan,\ args,\ kwargs);}
\DoxyCodeLine{02425\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02426\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02427\ }
\DoxyCodeLine{02428\ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{02429\ \}}
\DoxyCodeLine{02430\ }
\DoxyCodeLine{02431\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ xlabel(\textcolor{keyword}{const}\ std::string\ \&str,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\ \&keywords\ =\ \{\})}
\DoxyCodeLine{02432\ \{}
\DoxyCodeLine{02433\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02434\ }
\DoxyCodeLine{02435\ \ \ \ \ PyObject*\ pystr\ =\ PyString\_FromString(str.c\_str());}
\DoxyCodeLine{02436\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02437\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pystr);}
\DoxyCodeLine{02438\ }
\DoxyCodeLine{02439\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02440\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02441\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02442\ \ \ \ \ \}}
\DoxyCodeLine{02443\ }
\DoxyCodeLine{02444\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_xlabel,\ args,\ kwargs);}
\DoxyCodeLine{02445\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ xlabel()\ failed."{}});}
\DoxyCodeLine{02446\ }
\DoxyCodeLine{02447\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02448\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02449\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02450\ \}}
\DoxyCodeLine{02451\ }
\DoxyCodeLine{02452\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ ylabel(\textcolor{keyword}{const}\ std::string\ \&str,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{02453\ \{}
\DoxyCodeLine{02454\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02455\ }
\DoxyCodeLine{02456\ \ \ \ \ PyObject*\ pystr\ =\ PyString\_FromString(str.c\_str());}
\DoxyCodeLine{02457\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02458\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pystr);}
\DoxyCodeLine{02459\ }
\DoxyCodeLine{02460\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02461\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02462\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02463\ \ \ \ \ \}}
\DoxyCodeLine{02464\ }
\DoxyCodeLine{02465\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_ylabel,\ args,\ kwargs);}
\DoxyCodeLine{02466\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ ylabel()\ failed."{}});}
\DoxyCodeLine{02467\ }
\DoxyCodeLine{02468\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02469\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02470\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02471\ \}}
\DoxyCodeLine{02472\ }
\DoxyCodeLine{02473\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ set\_zlabel(\textcolor{keyword}{const}\ std::string\ \&str,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{02474\ \{}
\DoxyCodeLine{02475\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02476\ }
\DoxyCodeLine{02477\ \ \ \ \ \textcolor{comment}{//\ Same\ as\ with\ plot\_surface:\ We\ lazily\ load\ the\ modules\ here\ the\ first\ time}}
\DoxyCodeLine{02478\ \ \ \ \ \textcolor{comment}{//\ this\ function\ is\ called\ because\ I'm\ not\ sure\ that\ we\ can\ assume\ "{}matplotlib}}
\DoxyCodeLine{02479\ \ \ \ \ \textcolor{comment}{//\ installed"{}\ implies\ "{}mpl\_toolkits\ installed"{}\ on\ all\ platforms,\ and\ we\ don't}}
\DoxyCodeLine{02480\ \ \ \ \ \textcolor{comment}{//\ want\ to\ require\ it\ for\ people\ who\ don't\ need\ 3d\ plots.}}
\DoxyCodeLine{02481\ \ \ \ \ \textcolor{keyword}{static}\ PyObject\ *mpl\_toolkitsmod\ =\ \textcolor{keyword}{nullptr},\ *axis3dmod\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02482\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{}
\DoxyCodeLine{02483\ \ \ \ \ \ \ \ \ PyObject*\ mpl\_toolkits\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits"{}});}
\DoxyCodeLine{02484\ \ \ \ \ \ \ \ \ PyObject*\ axis3d\ =\ PyString\_FromString(\textcolor{stringliteral}{"{}mpl\_toolkits.mplot3d"{}});}
\DoxyCodeLine{02485\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkits\ ||\ !axis3d)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}couldnt\ create\ string"{}});\ \}}
\DoxyCodeLine{02486\ }
\DoxyCodeLine{02487\ \ \ \ \ \ \ \ \ mpl\_toolkitsmod\ =\ PyImport\_Import(mpl\_toolkits);}
\DoxyCodeLine{02488\ \ \ \ \ \ \ \ \ Py\_DECREF(mpl\_toolkits);}
\DoxyCodeLine{02489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!mpl\_toolkitsmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits!"{}});\ \}}
\DoxyCodeLine{02490\ }
\DoxyCodeLine{02491\ \ \ \ \ \ \ \ \ axis3dmod\ =\ PyImport\_Import(axis3d);}
\DoxyCodeLine{02492\ \ \ \ \ \ \ \ \ Py\_DECREF(axis3d);}
\DoxyCodeLine{02493\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!axis3dmod)\ \{\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Error\ loading\ module\ mpl\_toolkits.mplot3d!"{}});\ \}}
\DoxyCodeLine{02494\ \ \ \ \ \}}
\DoxyCodeLine{02495\ }
\DoxyCodeLine{02496\ \ \ \ \ PyObject*\ pystr\ =\ PyString\_FromString(str.c\_str());}
\DoxyCodeLine{02497\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02498\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pystr);}
\DoxyCodeLine{02499\ }
\DoxyCodeLine{02500\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02501\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02502\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02503\ \ \ \ \ \}}
\DoxyCodeLine{02504\ }
\DoxyCodeLine{02505\ \ \ \ \ PyObject\ *ax\ =}
\DoxyCodeLine{02506\ \ \ \ \ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_gca,}
\DoxyCodeLine{02507\ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02508\ \ \ \ \ \textcolor{keywordflow}{if}\ (!ax)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ gca()\ failed."{}});}
\DoxyCodeLine{02509\ \ \ \ \ Py\_INCREF(ax);}
\DoxyCodeLine{02510\ }
\DoxyCodeLine{02511\ \ \ \ \ PyObject\ *zlabel\ =\ PyObject\_GetAttrString(ax,\ \textcolor{stringliteral}{"{}set\_zlabel"{}});}
\DoxyCodeLine{02512\ \ \ \ \ \textcolor{keywordflow}{if}\ (!zlabel)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Attribute\ set\_zlabel\ not\ found."{}});}
\DoxyCodeLine{02513\ \ \ \ \ Py\_INCREF(zlabel);}
\DoxyCodeLine{02514\ }
\DoxyCodeLine{02515\ \ \ \ \ PyObject\ *res\ =\ PyObject\_Call(zlabel,\ args,\ kwargs);}
\DoxyCodeLine{02516\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ set\_zlabel()\ failed."{}});}
\DoxyCodeLine{02517\ \ \ \ \ Py\_DECREF(zlabel);}
\DoxyCodeLine{02518\ }
\DoxyCodeLine{02519\ \ \ \ \ Py\_DECREF(ax);}
\DoxyCodeLine{02520\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02521\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02522\ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{02523\ \}}
\DoxyCodeLine{02524\ }
\DoxyCodeLine{02525\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ grid(\textcolor{keywordtype}{bool}\ flag)}
\DoxyCodeLine{02526\ \{}
\DoxyCodeLine{02527\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02528\ }
\DoxyCodeLine{02529\ \ \ \ \ PyObject*\ pyflag\ =\ flag\ ?\ Py\_True\ :\ Py\_False;}
\DoxyCodeLine{02530\ \ \ \ \ Py\_INCREF(pyflag);}
\DoxyCodeLine{02531\ }
\DoxyCodeLine{02532\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02533\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pyflag);}
\DoxyCodeLine{02534\ }
\DoxyCodeLine{02535\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_grid,\ args);}
\DoxyCodeLine{02536\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ grid()\ failed."{}});}
\DoxyCodeLine{02537\ }
\DoxyCodeLine{02538\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02539\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02540\ \}}
\DoxyCodeLine{02541\ }
\DoxyCodeLine{02542\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ show(\textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ block\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{02543\ \{}
\DoxyCodeLine{02544\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02545\ }
\DoxyCodeLine{02546\ \ \ \ \ PyObject*\ res;}
\DoxyCodeLine{02547\ \ \ \ \ \textcolor{keywordflow}{if}(block)}
\DoxyCodeLine{02548\ \ \ \ \ \{}
\DoxyCodeLine{02549\ \ \ \ \ \ \ \ \ res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_show,}
\DoxyCodeLine{02551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02552\ \ \ \ \ \}}
\DoxyCodeLine{02553\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02554\ \ \ \ \ \{}
\DoxyCodeLine{02555\ \ \ \ \ \ \ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02556\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}block"{}},\ Py\_False);}
\DoxyCodeLine{02557\ \ \ \ \ \ \ \ \ res\ =\ PyObject\_Call(\ detail::\_interpreter::get().s\_python\_function\_show,\ detail::\_interpreter::get().s\_python\_empty\_tuple,\ kwargs);}
\DoxyCodeLine{02558\ \ \ \ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02559\ \ \ \ \ \}}
\DoxyCodeLine{02560\ }
\DoxyCodeLine{02561\ }
\DoxyCodeLine{02562\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ show()\ failed."{}});}
\DoxyCodeLine{02563\ }
\DoxyCodeLine{02564\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02565\ \}}
\DoxyCodeLine{02566\ }
\DoxyCodeLine{02567\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ close()}
\DoxyCodeLine{02568\ \{}
\DoxyCodeLine{02569\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02570\ }
\DoxyCodeLine{02571\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02572\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_close,}
\DoxyCodeLine{02573\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02574\ }
\DoxyCodeLine{02575\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ close()\ failed."{}});}
\DoxyCodeLine{02576\ }
\DoxyCodeLine{02577\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02578\ \}}
\DoxyCodeLine{02579\ }
\DoxyCodeLine{02580\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ xkcd()\ \{}
\DoxyCodeLine{02581\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02582\ }
\DoxyCodeLine{02583\ \ \ \ \ PyObject*\ res;}
\DoxyCodeLine{02584\ \ \ \ \ PyObject\ *kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02585\ }
\DoxyCodeLine{02586\ \ \ \ \ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_xkcd,}
\DoxyCodeLine{02587\ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple,\ kwargs);}
\DoxyCodeLine{02588\ }
\DoxyCodeLine{02589\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02590\ }
\DoxyCodeLine{02591\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{02592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ show()\ failed."{}});}
\DoxyCodeLine{02593\ }
\DoxyCodeLine{02594\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02595\ \}}
\DoxyCodeLine{02596\ }
\DoxyCodeLine{02597\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ draw()}
\DoxyCodeLine{02598\ \{}
\DoxyCodeLine{02599\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02600\ }
\DoxyCodeLine{02601\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02602\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_draw,}
\DoxyCodeLine{02603\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02604\ }
\DoxyCodeLine{02605\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ draw()\ failed."{}});}
\DoxyCodeLine{02606\ }
\DoxyCodeLine{02607\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02608\ \}}
\DoxyCodeLine{02609\ }
\DoxyCodeLine{02610\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02611\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ pause(Numeric\ interval)}
\DoxyCodeLine{02612\ \{}
\DoxyCodeLine{02613\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02614\ }
\DoxyCodeLine{02615\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02616\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyFloat\_FromDouble(interval));}
\DoxyCodeLine{02617\ }
\DoxyCodeLine{02618\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_pause,\ args);}
\DoxyCodeLine{02619\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ pause()\ failed."{}});}
\DoxyCodeLine{02620\ }
\DoxyCodeLine{02621\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02622\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02623\ \}}
\DoxyCodeLine{02624\ }
\DoxyCodeLine{02625\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ save(\textcolor{keyword}{const}\ std::string\&\ filename,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ dpi=0)}
\DoxyCodeLine{02626\ \{}
\DoxyCodeLine{02627\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02628\ }
\DoxyCodeLine{02629\ \ \ \ \ PyObject*\ pyfilename\ =\ PyString\_FromString(filename.c\_str());}
\DoxyCodeLine{02630\ }
\DoxyCodeLine{02631\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02632\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ pyfilename);}
\DoxyCodeLine{02633\ }
\DoxyCodeLine{02634\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02635\ }
\DoxyCodeLine{02636\ \ \ \ \ \textcolor{keywordflow}{if}(dpi\ >\ 0)}
\DoxyCodeLine{02637\ \ \ \ \ \{}
\DoxyCodeLine{02638\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}dpi"{}},\ PyLong\_FromLong(dpi));}
\DoxyCodeLine{02639\ \ \ \ \ \}}
\DoxyCodeLine{02640\ }
\DoxyCodeLine{02641\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_save,\ args,\ kwargs);}
\DoxyCodeLine{02642\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ save()\ failed."{}});}
\DoxyCodeLine{02643\ }
\DoxyCodeLine{02644\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02645\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02646\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02647\ \}}
\DoxyCodeLine{02648\ }
\DoxyCodeLine{02649\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ rcparams(\textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})\ \{}
\DoxyCodeLine{02650\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02651\ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(0);}
\DoxyCodeLine{02652\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02653\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)\ \{}
\DoxyCodeLine{02654\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{stringliteral}{"{}text.usetex"{}}\ ==\ it-\/>first)}
\DoxyCodeLine{02655\ \ \ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyLong\_FromLong(std::stoi(it-\/>second.c\_str())));}
\DoxyCodeLine{02656\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyString\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02657\ \ \ \ \ \}}
\DoxyCodeLine{02658\ \ \ \ \ }
\DoxyCodeLine{02659\ \ \ \ \ PyObject\ *\ update\ =\ PyObject\_GetAttrString(detail::\_interpreter::get().s\_python\_function\_rcparams,\ \textcolor{stringliteral}{"{}update"{}});}
\DoxyCodeLine{02660\ \ \ \ \ PyObject\ *\ res\ =\ PyObject\_Call(update,\ args,\ kwargs);}
\DoxyCodeLine{02661\ \ \ \ \ \textcolor{keywordflow}{if}(!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ rcParams.update()\ failed."{}});}
\DoxyCodeLine{02662\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02663\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02664\ \ \ \ \ Py\_DECREF(update);}
\DoxyCodeLine{02665\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02666\ \}}
\DoxyCodeLine{02667\ }
\DoxyCodeLine{02668\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ clf()\ \{}
\DoxyCodeLine{02669\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02670\ }
\DoxyCodeLine{02671\ \ \ \ \ PyObject\ *res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02672\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_clf,}
\DoxyCodeLine{02673\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02674\ }
\DoxyCodeLine{02675\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ clf()\ failed."{}});}
\DoxyCodeLine{02676\ }
\DoxyCodeLine{02677\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02678\ \}}
\DoxyCodeLine{02679\ }
\DoxyCodeLine{02680\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ cla()\ \{}
\DoxyCodeLine{02681\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02682\ }
\DoxyCodeLine{02683\ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_cla,}
\DoxyCodeLine{02684\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02685\ }
\DoxyCodeLine{02686\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)}
\DoxyCodeLine{02687\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ cla()\ failed."{}});}
\DoxyCodeLine{02688\ }
\DoxyCodeLine{02689\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02690\ \}}
\DoxyCodeLine{02691\ }
\DoxyCodeLine{02692\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ ion()\ \{}
\DoxyCodeLine{02693\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02694\ }
\DoxyCodeLine{02695\ \ \ \ \ PyObject\ *res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02696\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_ion,}
\DoxyCodeLine{02697\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02698\ }
\DoxyCodeLine{02699\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ ion()\ failed."{}});}
\DoxyCodeLine{02700\ }
\DoxyCodeLine{02701\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02702\ \}}
\DoxyCodeLine{02703\ }
\DoxyCodeLine{02704\ \textcolor{keyword}{inline}\ std::vector<std::array<double,\ 2>>\ ginput(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ numClicks\ =\ 1,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords\ =\ \{\})}
\DoxyCodeLine{02705\ \{}
\DoxyCodeLine{02706\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02707\ }
\DoxyCodeLine{02708\ \ \ \ \ PyObject\ *args\ =\ PyTuple\_New(1);}
\DoxyCodeLine{02709\ \ \ \ \ PyTuple\_SetItem(args,\ 0,\ PyLong\_FromLong(numClicks));}
\DoxyCodeLine{02710\ }
\DoxyCodeLine{02711\ \ \ \ \ \textcolor{comment}{//\ construct\ keyword\ args}}
\DoxyCodeLine{02712\ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02713\ \ \ \ \ \textcolor{keywordflow}{for}(std::map<std::string,\ std::string>::const\_iterator\ it\ =\ keywords.begin();\ it\ !=\ keywords.end();\ ++it)}
\DoxyCodeLine{02714\ \ \ \ \ \{}
\DoxyCodeLine{02715\ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ it-\/>first.c\_str(),\ PyUnicode\_FromString(it-\/>second.c\_str()));}
\DoxyCodeLine{02716\ \ \ \ \ \}}
\DoxyCodeLine{02717\ }
\DoxyCodeLine{02718\ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(}
\DoxyCodeLine{02719\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_ginput,\ args,\ kwargs);}
\DoxyCodeLine{02720\ }
\DoxyCodeLine{02721\ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02722\ \ \ \ \ Py\_DECREF(args);}
\DoxyCodeLine{02723\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ ginput()\ failed."{}});}
\DoxyCodeLine{02724\ }
\DoxyCodeLine{02725\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ len\ =\ PyList\_Size(res);}
\DoxyCodeLine{02726\ \ \ \ \ std::vector<std::array<double,\ 2>>\ out;}
\DoxyCodeLine{02727\ \ \ \ \ out.reserve(len);}
\DoxyCodeLine{02728\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ len;\ i++)\ \{}
\DoxyCodeLine{02729\ \ \ \ \ \ \ \ \ PyObject\ *current\ =\ PyList\_GetItem(res,\ i);}
\DoxyCodeLine{02730\ \ \ \ \ \ \ \ \ std::array<double,\ 2>\ position;}
\DoxyCodeLine{02731\ \ \ \ \ \ \ \ \ position[0]\ =\ PyFloat\_AsDouble(PyTuple\_GetItem(current,\ 0));}
\DoxyCodeLine{02732\ \ \ \ \ \ \ \ \ position[1]\ =\ PyFloat\_AsDouble(PyTuple\_GetItem(current,\ 1));}
\DoxyCodeLine{02733\ \ \ \ \ \ \ \ \ out.push\_back(position);}
\DoxyCodeLine{02734\ \ \ \ \ \}}
\DoxyCodeLine{02735\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02736\ }
\DoxyCodeLine{02737\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02738\ \}}
\DoxyCodeLine{02739\ }
\DoxyCodeLine{02740\ \textcolor{comment}{//\ Actually,\ is\ there\ any\ reason\ not\ to\ call\ this\ automatically\ for\ every\ plot?}}
\DoxyCodeLine{02741\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ tight\_layout()\ \{}
\DoxyCodeLine{02742\ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02743\ }
\DoxyCodeLine{02744\ \ \ \ \ PyObject\ *res\ =\ PyObject\_CallObject(}
\DoxyCodeLine{02745\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_function\_tight\_layout,}
\DoxyCodeLine{02746\ \ \ \ \ \ \ \ \ detail::\_interpreter::get().s\_python\_empty\_tuple);}
\DoxyCodeLine{02747\ }
\DoxyCodeLine{02748\ \ \ \ \ \textcolor{keywordflow}{if}\ (!res)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Call\ to\ tight\_layout()\ failed."{}});}
\DoxyCodeLine{02749\ }
\DoxyCodeLine{02750\ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02751\ \}}
\DoxyCodeLine{02752\ }
\DoxyCodeLine{02753\ \textcolor{comment}{//\ Support\ for\ variadic\ plot()\ and\ initializer\ lists:}}
\DoxyCodeLine{02754\ }
\DoxyCodeLine{02755\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{02756\ }
\DoxyCodeLine{02757\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02758\ \textcolor{keyword}{using\ }is\_function\ =\ \textcolor{keyword}{typename}\ std::is\_function<std::remove\_pointer<std::remove\_reference<T>>>::type;}
\DoxyCodeLine{02759\ }
\DoxyCodeLine{02760\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ obj,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02761\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1is__callable__impl}{is\_callable\_impl}};}
\DoxyCodeLine{02762\ }
\DoxyCodeLine{02763\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02764\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1is__callable__impl}{is\_callable\_impl}}<false,\ T>}
\DoxyCodeLine{02765\ \{}
\DoxyCodeLine{02766\ \ \ \ \ \textcolor{keyword}{typedef}\ is\_function<T>\ type;}
\DoxyCodeLine{02767\ \};\ \textcolor{comment}{//\ a\ non-\/object\ is\ callable\ iff\ it\ is\ a\ function}}
\DoxyCodeLine{02768\ }
\DoxyCodeLine{02769\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02770\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1is__callable__impl}{is\_callable\_impl}}<true,\ T>}
\DoxyCodeLine{02771\ \{}
\DoxyCodeLine{02772\ \ \ \ \ \textcolor{keyword}{struct\ }Fallback\ \{\ \textcolor{keywordtype}{void}\ operator()();\ \};}
\DoxyCodeLine{02773\ \ \ \ \ \textcolor{keyword}{struct\ }Derived\ :\ T,\ Fallback\ \{\ \};}
\DoxyCodeLine{02774\ }
\DoxyCodeLine{02775\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U,\ U>\ \textcolor{keyword}{struct\ }Check;}
\DoxyCodeLine{02776\ }
\DoxyCodeLine{02777\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{02778\ \ \ \ \ \textcolor{keyword}{static}\ std::true\_type\ test(\ ...\ );\ \textcolor{comment}{//\ use\ a\ variadic\ function\ to\ make\ sure\ (1)\ it\ accepts\ everything\ and\ (2)\ its\ always\ the\ worst\ match}}
\DoxyCodeLine{02779\ }
\DoxyCodeLine{02780\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{02781\ \ \ \ \ \textcolor{keyword}{static}\ std::false\_type\ test(\ Check<\textcolor{keywordtype}{void}(Fallback::*)(),\ \&U::operator()>*\ );}
\DoxyCodeLine{02782\ }
\DoxyCodeLine{02783\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02784\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{decltype}(test<Derived>(\textcolor{keyword}{nullptr}))\ type;}
\DoxyCodeLine{02785\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{decltype}(\&Fallback::operator())\ dtype;}
\DoxyCodeLine{02786\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ value\ =\ type::value;}
\DoxyCodeLine{02787\ \};\ \textcolor{comment}{//\ an\ object\ is\ callable\ iff\ it\ defines\ operator()}}
\DoxyCodeLine{02788\ }
\DoxyCodeLine{02789\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02790\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1is__callable}{is\_callable}}}
\DoxyCodeLine{02791\ \{}
\DoxyCodeLine{02792\ \ \ \ \ \textcolor{comment}{//\ dispatch\ to\ is\_callable\_impl<true,\ T>\ or\ is\_callable\_impl<false,\ T>\ depending\ on\ whether\ T\ is\ of\ class\ type\ or\ not}}
\DoxyCodeLine{02793\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ is\_callable\_impl<std::is\_class<T>::value,\ T>::type\ type;}
\DoxyCodeLine{02794\ \};}
\DoxyCodeLine{02795\ }
\DoxyCodeLine{02796\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IsYDataCallable>}
\DoxyCodeLine{02797\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1plot__impl}{plot\_impl}}\ \{\ \};}
\DoxyCodeLine{02798\ }
\DoxyCodeLine{02799\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{02800\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1plot__impl}{plot\_impl}}<std::false\_type>}
\DoxyCodeLine{02801\ \{}
\DoxyCodeLine{02802\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IterableX,\ \textcolor{keyword}{typename}\ IterableY>}
\DoxyCodeLine{02803\ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ IterableX\&\ x,\ \textcolor{keyword}{const}\ IterableY\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format)}
\DoxyCodeLine{02804\ \ \ \ \ \{}
\DoxyCodeLine{02805\ \ \ \ \ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02806\ }
\DoxyCodeLine{02807\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 2-\/phase\ lookup\ for\ distance,\ begin,\ end}}
\DoxyCodeLine{02808\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }std::distance;}
\DoxyCodeLine{02809\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }std::begin;}
\DoxyCodeLine{02810\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }std::end;}
\DoxyCodeLine{02811\ }
\DoxyCodeLine{02812\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ xs\ =\ distance(begin(x),\ end(x));}
\DoxyCodeLine{02813\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ ys\ =\ distance(begin(y),\ end(y));}
\DoxyCodeLine{02814\ \ \ \ \ \ \ \ \ assert(xs\ ==\ ys\ \&\&\ \textcolor{stringliteral}{"{}x\ and\ y\ data\ must\ have\ the\ same\ number\ of\ elements!"{}});}
\DoxyCodeLine{02815\ }
\DoxyCodeLine{02816\ \ \ \ \ \ \ \ \ PyObject*\ xlist\ =\ PyList\_New(xs);}
\DoxyCodeLine{02817\ \ \ \ \ \ \ \ \ PyObject*\ ylist\ =\ PyList\_New(ys);}
\DoxyCodeLine{02818\ \ \ \ \ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{02819\ }
\DoxyCodeLine{02820\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ itx\ =\ begin(x),\ ity\ =\ begin(y);}
\DoxyCodeLine{02821\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ xs;\ ++i)\ \{}
\DoxyCodeLine{02822\ \ \ \ \ \ \ \ \ \ \ \ \ PyList\_SetItem(xlist,\ i,\ PyFloat\_FromDouble(*itx++));}
\DoxyCodeLine{02823\ \ \ \ \ \ \ \ \ \ \ \ \ PyList\_SetItem(ylist,\ i,\ PyFloat\_FromDouble(*ity++));}
\DoxyCodeLine{02824\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02825\ }
\DoxyCodeLine{02826\ \ \ \ \ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{02827\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xlist);}
\DoxyCodeLine{02828\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ ylist);}
\DoxyCodeLine{02829\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{02830\ }
\DoxyCodeLine{02831\ \ \ \ \ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(detail::\_interpreter::get().s\_python\_function\_plot,\ plot\_args);}
\DoxyCodeLine{02832\ }
\DoxyCodeLine{02833\ \ \ \ \ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{02834\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(res)\ Py\_DECREF(res);}
\DoxyCodeLine{02835\ }
\DoxyCodeLine{02836\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{02837\ \ \ \ \ \}}
\DoxyCodeLine{02838\ \};}
\DoxyCodeLine{02839\ }
\DoxyCodeLine{02840\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{02841\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatplotlibcpp_1_1detail_1_1plot__impl}{plot\_impl}}<std::true\_type>}
\DoxyCodeLine{02842\ \{}
\DoxyCodeLine{02843\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Iterable,\ \textcolor{keyword}{typename}\ Callable>}
\DoxyCodeLine{02844\ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ Iterable\&\ ticks,\ \textcolor{keyword}{const}\ Callable\&\ f,\ \textcolor{keyword}{const}\ std::string\&\ format)}
\DoxyCodeLine{02845\ \ \ \ \ \{}
\DoxyCodeLine{02846\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(begin(ticks)\ ==\ end(ticks))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02847\ }
\DoxyCodeLine{02848\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ could\ use\ additional\ meta-\/programming\ to\ deduce\ the\ correct\ element\ type\ of\ y,}}
\DoxyCodeLine{02849\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ but\ all\ values\ have\ to\ be\ convertible\ to\ double\ anyways}}
\DoxyCodeLine{02850\ \ \ \ \ \ \ \ \ std::vector<double>\ y;}
\DoxyCodeLine{02851\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ x\ :\ ticks)\ y.push\_back(f(x));}
\DoxyCodeLine{02852\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ plot\_impl<std::false\_type>()(ticks,y,format);}
\DoxyCodeLine{02853\ \ \ \ \ \}}
\DoxyCodeLine{02854\ \};}
\DoxyCodeLine{02855\ }
\DoxyCodeLine{02856\ \}\ \textcolor{comment}{//\ end\ namespace\ detail}}
\DoxyCodeLine{02857\ }
\DoxyCodeLine{02858\ \textcolor{comment}{//\ recursion\ stop\ for\ the\ above}}
\DoxyCodeLine{02859\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{02860\ \textcolor{keywordtype}{bool}\ plot()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{02861\ }
\DoxyCodeLine{02862\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{02863\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ A\&\ a,\ \textcolor{keyword}{const}\ B\&\ b,\ \textcolor{keyword}{const}\ std::string\&\ format,\ Args...\ args)}
\DoxyCodeLine{02864\ \{}
\DoxyCodeLine{02865\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::plot\_impl<typename\ detail::is\_callable<B>::type>()(a,b,format)\ \&\&\ plot(args...);}
\DoxyCodeLine{02866\ \}}
\DoxyCodeLine{02867\ }
\DoxyCodeLine{02868\ \textcolor{comment}{/*}}
\DoxyCodeLine{02869\ \textcolor{comment}{\ *\ This\ group\ of\ plot()\ functions\ is\ needed\ to\ support\ initializer\ lists,\ i.e.\ calling}}
\DoxyCodeLine{02870\ \textcolor{comment}{\ *\ \ \ \ plot(\ \{1,2,3,4\}\ )}}
\DoxyCodeLine{02871\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02872\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<double>\&\ x,\ \textcolor{keyword}{const}\ std::vector<double>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{02873\ \ \ \ \ \textcolor{keywordflow}{return}\ plot<double,double>(x,y,format);}
\DoxyCodeLine{02874\ \}}
\DoxyCodeLine{02875\ }
\DoxyCodeLine{02876\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<double>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{02877\ \ \ \ \ \textcolor{keywordflow}{return}\ plot<double>(y,format);}
\DoxyCodeLine{02878\ \}}
\DoxyCodeLine{02879\ }
\DoxyCodeLine{02880\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ plot(\textcolor{keyword}{const}\ std::vector<double>\&\ x,\ \textcolor{keyword}{const}\ std::vector<double>\&\ y,\ \textcolor{keyword}{const}\ std::map<std::string,\ std::string>\&\ keywords)\ \{}
\DoxyCodeLine{02881\ \ \ \ \ \textcolor{keywordflow}{return}\ plot<double>(x,y,keywords);}
\DoxyCodeLine{02882\ \}}
\DoxyCodeLine{02883\ }
\DoxyCodeLine{02884\ \textcolor{comment}{/*}}
\DoxyCodeLine{02885\ \textcolor{comment}{\ *\ This\ class\ allows\ dynamic\ plots,\ ie\ changing\ the\ plotted\ data\ without\ clearing\ and\ re-\/plotting}}
\DoxyCodeLine{02886\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02887\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classmatplotlibcpp_1_1_plot}{Plot}}}
\DoxyCodeLine{02888\ \{}
\DoxyCodeLine{02889\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02890\ \ \ \ \ \textcolor{comment}{//\ default\ initialization\ with\ plot\ label,\ some\ data\ and\ format}}
\DoxyCodeLine{02891\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02892\ \ \ \ \ \mbox{\hyperlink{classmatplotlibcpp_1_1_plot}{Plot}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y,\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{02893\ \ \ \ \ \ \ \ \ detail::\_interpreter::get();}
\DoxyCodeLine{02894\ }
\DoxyCodeLine{02895\ \ \ \ \ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{02896\ }
\DoxyCodeLine{02897\ \ \ \ \ \ \ \ \ PyObject*\ kwargs\ =\ PyDict\_New();}
\DoxyCodeLine{02898\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(name\ !=\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{02899\ \ \ \ \ \ \ \ \ \ \ \ \ PyDict\_SetItemString(kwargs,\ \textcolor{stringliteral}{"{}label"{}},\ PyString\_FromString(name.c\_str()));}
\DoxyCodeLine{02900\ }
\DoxyCodeLine{02901\ \ \ \ \ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{02902\ \ \ \ \ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{02903\ }
\DoxyCodeLine{02904\ \ \ \ \ \ \ \ \ PyObject*\ pystring\ =\ PyString\_FromString(format.c\_str());}
\DoxyCodeLine{02905\ }
\DoxyCodeLine{02906\ \ \ \ \ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(3);}
\DoxyCodeLine{02907\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{02908\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{02909\ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 2,\ pystring);}
\DoxyCodeLine{02910\ }
\DoxyCodeLine{02911\ \ \ \ \ \ \ \ \ PyObject*\ res\ =\ PyObject\_Call(detail::\_interpreter::get().s\_python\_function\_plot,\ plot\_args,\ kwargs);}
\DoxyCodeLine{02912\ }
\DoxyCodeLine{02913\ \ \ \ \ \ \ \ \ Py\_DECREF(kwargs);}
\DoxyCodeLine{02914\ \ \ \ \ \ \ \ \ Py\_DECREF(plot\_args);}
\DoxyCodeLine{02915\ }
\DoxyCodeLine{02916\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(res)}
\DoxyCodeLine{02917\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{02918\ \ \ \ \ \ \ \ \ \ \ \ \ line=\ PyList\_GetItem(res,\ 0);}
\DoxyCodeLine{02919\ }
\DoxyCodeLine{02920\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(line)}
\DoxyCodeLine{02921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ set\_data\_fct\ =\ PyObject\_GetAttrString(line,\textcolor{stringliteral}{"{}set\_data"{}});}
\DoxyCodeLine{02922\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Py\_DECREF(line);}
\DoxyCodeLine{02924\ \ \ \ \ \ \ \ \ \ \ \ \ Py\_DECREF(res);}
\DoxyCodeLine{02925\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02926\ \ \ \ \ \}}
\DoxyCodeLine{02927\ }
\DoxyCodeLine{02928\ \ \ \ \ \textcolor{comment}{//\ shorter\ initialization\ with\ name\ or\ format\ only}}
\DoxyCodeLine{02929\ \ \ \ \ \textcolor{comment}{//\ basically\ calls\ line,\ =\ plot([],\ [])}}
\DoxyCodeLine{02930\ \ \ \ \ \mbox{\hyperlink{classmatplotlibcpp_1_1_plot}{Plot}}(\textcolor{keyword}{const}\ std::string\&\ name\ =\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{keyword}{const}\ std::string\&\ format\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{02931\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classmatplotlibcpp_1_1_plot}{Plot}}(name,\ std::vector<double>(),\ std::vector<double>(),\ format)\ \{\}}
\DoxyCodeLine{02932\ }
\DoxyCodeLine{02933\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Numeric>}
\DoxyCodeLine{02934\ \ \ \ \ \textcolor{keywordtype}{bool}\ update(\textcolor{keyword}{const}\ std::vector<Numeric>\&\ x,\ \textcolor{keyword}{const}\ std::vector<Numeric>\&\ y)\ \{}
\DoxyCodeLine{02935\ \ \ \ \ \ \ \ \ assert(x.size()\ ==\ y.size());}
\DoxyCodeLine{02936\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(set\_data\_fct)}
\DoxyCodeLine{02937\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{02938\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ xarray\ =\ detail::get\_array(x);}
\DoxyCodeLine{02939\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ yarray\ =\ detail::get\_array(y);}
\DoxyCodeLine{02940\ }
\DoxyCodeLine{02941\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ plot\_args\ =\ PyTuple\_New(2);}
\DoxyCodeLine{02942\ \ \ \ \ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 0,\ xarray);}
\DoxyCodeLine{02943\ \ \ \ \ \ \ \ \ \ \ \ \ PyTuple\_SetItem(plot\_args,\ 1,\ yarray);}
\DoxyCodeLine{02944\ }
\DoxyCodeLine{02945\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(set\_data\_fct,\ plot\_args);}
\DoxyCodeLine{02946\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{02947\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{02948\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02949\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02950\ \ \ \ \ \}}
\DoxyCodeLine{02951\ }
\DoxyCodeLine{02952\ \ \ \ \ \textcolor{comment}{//\ clears\ the\ plot\ but\ keep\ it\ available}}
\DoxyCodeLine{02953\ \ \ \ \ \textcolor{keywordtype}{bool}\ clear()\ \{}
\DoxyCodeLine{02954\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ update(std::vector<double>(),\ std::vector<double>());}
\DoxyCodeLine{02955\ \ \ \ \ \}}
\DoxyCodeLine{02956\ }
\DoxyCodeLine{02957\ \ \ \ \ \textcolor{comment}{//\ definitely\ remove\ this\ line}}
\DoxyCodeLine{02958\ \ \ \ \ \textcolor{keywordtype}{void}\ remove()\ \{}
\DoxyCodeLine{02959\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(line)}
\DoxyCodeLine{02960\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{02961\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ remove\_fct\ =\ PyObject\_GetAttrString(line,\textcolor{stringliteral}{"{}remove"{}});}
\DoxyCodeLine{02962\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ args\ =\ PyTuple\_New(0);}
\DoxyCodeLine{02963\ \ \ \ \ \ \ \ \ \ \ \ \ PyObject*\ res\ =\ PyObject\_CallObject(remove\_fct,\ args);}
\DoxyCodeLine{02964\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (res)\ Py\_DECREF(res);}
\DoxyCodeLine{02965\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02966\ \ \ \ \ \ \ \ \ decref();}
\DoxyCodeLine{02967\ \ \ \ \ \}}
\DoxyCodeLine{02968\ }
\DoxyCodeLine{02969\ \ \ \ \ \mbox{\hyperlink{classmatplotlibcpp_1_1_plot}{\string~Plot}}()\ \{}
\DoxyCodeLine{02970\ \ \ \ \ \ \ \ \ decref();}
\DoxyCodeLine{02971\ \ \ \ \ \}}
\DoxyCodeLine{02972\ \textcolor{keyword}{private}:}
\DoxyCodeLine{02973\ }
\DoxyCodeLine{02974\ \ \ \ \ \textcolor{keywordtype}{void}\ decref()\ \{}
\DoxyCodeLine{02975\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(line)}
\DoxyCodeLine{02976\ \ \ \ \ \ \ \ \ \ \ \ \ Py\_DECREF(line);}
\DoxyCodeLine{02977\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(set\_data\_fct)}
\DoxyCodeLine{02978\ \ \ \ \ \ \ \ \ \ \ \ \ Py\_DECREF(set\_data\_fct);}
\DoxyCodeLine{02979\ \ \ \ \ \}}
\DoxyCodeLine{02980\ }
\DoxyCodeLine{02981\ }
\DoxyCodeLine{02982\ \ \ \ \ PyObject*\ line\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02983\ \ \ \ \ PyObject*\ set\_data\_fct\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02984\ \};}
\DoxyCodeLine{02985\ }
\DoxyCodeLine{02986\ \}\ \textcolor{comment}{//\ end\ namespace\ matplotlibcpp}}

\end{DoxyCode}
